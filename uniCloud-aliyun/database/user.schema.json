{
    "bsonType": "object",
    "required": [
        "mobile"
    ],
    "permission": {
        "read": true,
        "create": true,
        "update": true,
        "delete": false
    },
    "properties": {
        "_id": {
            "description": "ID，系统自动生成"
        },
        "nickName": {
            "bsonType": "string",
            "title": "用户昵称",
            "description": "用户昵称",
            "trim": "both"
        },
        "mobile": {
            "bsonType": "string",
            "title": "手机号",
            "description": "用户手机号",
            "pattern": "^1[3-9]\\d{9}$"
        },
        "avatarUrl": {
            "bsonType": "string",
            "title": "头像",
            "description": "用户头像地址"
        },
        "gender": {
            "bsonType": "int",
            "title": "性别",
            "description": "用户性别：0-未知，1-男，2-女",
            "defaultValue": 0,
            "minimum": 0,
            "maximum": 2
        },
        "status": {
            "bsonType": "int",
            "title": "账号状态",
            "description": "用户账号状态：0-正常，1-禁用，2-封禁",
            "defaultValue": 0,
            "minimum": 0,
            "maximum": 2
        },
        "status_desc": {
            "bsonType": "string",
            "title": "状态说明",
            "description": "账号状态的具体说明，比如封禁原因等",
            "defaultValue": "正常"
        },
        "create_time": {
            "bsonType": "timestamp",
            "title": "创建时间",
            "description": "创建时间",
            "defaultValue": {
                "$env": "now"
            }
        },
        "openid_ks": {
            "bsonType": "string",
            "description": "快手openid"
        },
        "openid_wx": {
            "bsonType": "string",
            "description": "微信openid"
        },
        "openid_ds": {
            "bsonType": "string",
            "description": "抖音openid"
        },
        "token": {
            "bsonType": "string",
            "description": "用户token"
        },
        "session_key": {
            "bsonType": "string",
            "description": "会话密钥"
        },
        "update_time": {
            "bsonType": "timestamp",
            "description": "更新时间",
            "defaultValue": {
                "$env": "now"
            }
        },
        "role": {
            "bsonType": "array",
            "title": "用户角色",
            "description": "用户角色列表，例：['user', 'vip', 'admin']",
            "defaultValue": [
                "user"
            ],
            "items": {
                "bsonType": "string",
                "enum": [
                    "user",
                    "vip",
                    "admin"
                ]
            }
        }
    }
}