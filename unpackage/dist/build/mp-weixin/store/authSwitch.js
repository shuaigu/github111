"use strict";const e=require("../common/vendor.js"),t=e.defineStore("auth",(()=>{const t=e.ref(!1);try{const o=e.index.getStorageSync("auth-state");""!==o&&(t.value=JSON.parse(o),console.log("从存储加载权限状态:",t.value))}catch(o){console.error("加载权限状态失败:",o)}e.watch(t,(t=>{try{e.index.setStorageSync("auth-state",JSON.stringify(t)),console.log("权限状态已保存到存储:",t)}catch(o){console.error("保存权限状态失败:",o)}}));return{authSwitch:t,setAuthValue:e=>{t.value=e},setAuth:()=>{t.value=!t.value}}}),{persist:{storage:{getItem:t=>e.index.getStorageSync(t),setItem(t,o){e.index.setStorageSync(t,o)}}}});exports.useAuthSwitchStore=t;
