"use strict";const e=require("../common/vendor.js"),r=e.defineStore("userInfo",(()=>{const r={uid:"",nickName:"",avatarUrl:"/static/images/defalut.png",mobile:"未填写",isLogin:!1,role:[]},a=e.ref({...r}),s=e.ref([]);return{userInfo:a,setUserInfo:(r={})=>{a.value=r,r&&r.uid?a.value.isLogin=!0:a.value.isLogin=!1,e.index.setStorageSync("userInfo",a.value)},cleanUserInfo:()=>{a.value={...r},s.value=[]},updateUserAvatar:r=>{a.value.avatarUrl=r,e.index.setStorageSync("userInfo",a.value)},updateUserNickName:r=>{a.value.nickName=r,e.index.setStorageSync("userInfo",a.value)},likeRecords:s,setLikeRecords:e=>{s.value=e},isLiked:e=>s.value.some((r=>r.article_id===e))}}),{persist:{storage:{getItem:r=>e.index.getStorageSync(r),setItem(r,a){e.index.setStorageSync(r,a)}}}});exports.useUserInfoStore=r;
