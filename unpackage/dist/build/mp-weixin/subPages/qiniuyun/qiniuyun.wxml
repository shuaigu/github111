<view class="{{['publish-container', virtualHostClass]}}" style="{{virtualHostStyle}}" hidden="{{virtualHostHidden || false}}" id="{{S}}"><view class="content-container"><view class="category-section"><view class="section-header"><text class="section-title">选择分类</text><view wx:if="{{a}}" class="location-info-inline"><uni-icons wx:if="{{b}}" u-i="ebc52c84-0" bind:__l="__l" u-p="{{b}}"></uni-icons><text>{{c}}</text></view></view><view class="category-grid"><view wx:for="{{d}}" wx:for-item="item" wx:key="d" class="{{['category-item', item.e && 'active']}}" bindtap="{{item.f}}"><image src="{{item.a}}" mode="aspectFit" class="category-icon" binderror="{{item.b}}"></image><text class="category-name">{{item.c}}</text></view></view><view wx:if="{{e}}" class="loading-placeholder"><uni-icons wx:if="{{f}}" u-i="ebc52c84-1" bind:__l="__l" u-p="{{f}}"></uni-icons><text>正在加载分类...</text></view></view><view class="content-media-section"><view class="textarea-container"><block wx:if="{{r0}}"><textarea placeholder="分享新鲜事..." maxlength="350" class="content-textarea" auto-height show-confirm-bar="false" cursor-spacing="120" value="{{g}}" bindinput="{{h}}"></textarea></block><view class="word-count">{{i}}/350</view></view><view class="media-area"><view class="media-tabs"><view class="{{['tab-item', l && 'active']}}" bindtap="{{m}}"><uni-icons wx:if="{{j}}" u-i="ebc52c84-2" bind:__l="__l" u-p="{{j}}"></uni-icons><text class="{{['tab-text', k && 'active-text']}}">图片</text></view><view class="{{['tab-item', p && 'active']}}" bindtap="{{q}}"><uni-icons wx:if="{{n}}" u-i="ebc52c84-3" bind:__l="__l" u-p="{{n}}"></uni-icons><text class="{{['tab-text', o && 'active-text']}}">视频</text></view></view><view wx:if="{{r}}" class="media-content"><view wx:if="{{s}}" class="section-title">已上传图片</view><view class="image-grid"><view wx:for="{{t}}" wx:for-item="item" wx:key="h" class="image-item"><image src="{{item.a}}" mode="aspectFill" binderror="{{item.b}}"/><view wx:if="{{item.c}}" class="progress-overlay"><view class="progress-text">{{item.d}}%</view><view class="progress-bar"><view class="progress" style="{{'width:' + item.e}}"></view></view></view><view class="delete-btn" bindtap="{{item.g}}"><uni-icons wx:if="{{v}}" u-i="{{item.f}}" bind:__l="__l" u-p="{{v}}"></uni-icons></view></view><view wx:if="{{w}}" class="add-media-btn" bindtap="{{y}}"><uni-icons wx:if="{{x}}" u-i="ebc52c84-5" bind:__l="__l" u-p="{{x}}"></uni-icons><text class="btn-text">添加图片</text></view></view><text wx:if="{{z}}" class="tip-text">最多上传9张图片，支持从相册、拍照选择</text></view><view wx:if="{{A}}" class="media-content"><view wx:if="{{B}}" class="section-title">已上传视频</view><view wx:if="{{C}}" class="video-container"><view class="video-item"><image src="{{D}}" mode="aspectFill"/><view class="video-icon"><uni-icons wx:if="{{E}}" u-i="ebc52c84-6" bind:__l="__l" u-p="{{E}}"></uni-icons></view><view class="video-info"><text class="video-duration">{{F}}秒</text><text class="video-size">{{G}}MB</text><text class="video-format">{{H}}</text></view><view wx:if="{{I}}" class="progress-overlay"><view class="progress-text">{{J}}%</view><view class="progress-bar"><view class="progress" style="{{'width:' + K}}"></view></view></view><view class="delete-btn" bindtap="{{M}}"><uni-icons wx:if="{{L}}" u-i="ebc52c84-7" bind:__l="__l" u-p="{{L}}"></uni-icons></view></view></view><view wx:if="{{N}}" class="video-upload-btn" bindtap="{{P}}"><uni-icons wx:if="{{O}}" u-i="ebc52c84-8" bind:__l="__l" u-p="{{O}}"></uni-icons><text class="upload-text">点击上传视频</text><text class="upload-subtext">支持60秒以内、500MB以下的视频</text></view><text wx:if="{{Q}}" class="tip-text">支持60秒以内、500MB以下的视频</text></view></view></view><view class="safe-area-placeholder"></view></view><view class="publish-btn-container"><button class="publish-btn" bindtap="{{R}}">发布</button></view></view>