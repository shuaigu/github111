"use strict";const e=require("../../common/vendor.js"),t=require("../../utils/formatTime.js");if(!Array){e.resolveComponent("up-loading-page")()}const a={__name:"feedManage",setup(a){const n=e.ref([]),s=e.ref(!0),c=async()=>{try{const t=e.nr.importObject("feedback",{customUI:!0}),a=await t.getList();a.success&&(n.value=a.data)}catch(t){e.index.showToast({title:t.message||"加载失败",icon:"none"})}finally{s.value=!1}};return e.onMounted((()=>{c()})),(a,o)=>e.e({a:e.p({loading:s.value&&!n.value.length}),b:n.value.length},n.value.length?{c:e.f(n.value,((a,n,s)=>e.e({a:e.t(a.type),b:e.t(e.unref(t.formatTime)(a.create_time)),c:e.o((t=>{return n=a._id,void e.index.showModal({title:"提示",content:"确定要删除这条反馈吗？",async success(t){if(t.confirm)try{const t=e.nr.importObject("feedback",{customUI:!0});(await t.remove(n)).success&&(e.index.showToast({title:"删除成功",icon:"success"}),c())}catch(a){e.index.showToast({title:a.message||"删除失败",icon:"none"})}}});var n}),a._id),d:e.t(a.content),e:a.images&&a.images.length},a.images&&a.images.length?{f:e.f(a.images,((t,n,s)=>({a:n,b:t.url,c:e.o((n=>{return s=a.images.map((e=>e.url)),c=t.url,void e.index.previewImage({urls:s,current:c});var s,c}),n)})))}:{},{g:a.contact},a.contact?{h:e.t(a.contact)}:{},{i:a._id})))}:(s.value,{}),{d:!s.value,e:e.gei(a,"")})}},n=e._export_sfc(a,[["__scopeId","data-v-a2342532"]]);wx.createPage(n);
