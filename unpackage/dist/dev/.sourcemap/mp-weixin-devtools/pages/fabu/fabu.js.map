{"version":3,"names":["userStore","store_user","useUserInfoStore","articleApi","common_vendor","nr","importObject","customUI","extStorageCo","ref","categoryList","cateIndex","imageList","locationInfo","content","selectedCategory","videoInfo","textareaFocus","payAmount","videoLink","inputHeight","selectionStart","selectionEnd","isInSelectionMode","computed","value","iconCustomizing","textOffsetX","textOffsetY","textSize","previewImageUrl","currentEditingCategory","showEmojiPanel","emojiGroups","name","emojis","currentEmojiGroupIndex","getLocaAndCate","_ref","_asyncToGenerator2","_regeneratorRuntime2","mark","_callee","locationRes","res","categoryResult","updatedCateRes","locationBasedCategories","firstCategory","iconResult","createResult","newCategory","wrap","_callee$","_context","prev","next","index","showLoading","title","mask","getLocation","type","catch","err","__f__","longitude","latitude","sent","addReady","concat","address","district","processCategoryFromDistrict","code","data","cateList","length","t0","filter","cate","is_location_based","location_district","map","_objectSpread2","icon","cate_img","getDefaultCategoryIcon","cate_name","_id","includes","generateCategoryIcon","iconURL","t1","createLocationCategory","categoryId","handleGenerateIcon","setDefaultCategory","t2","t3","showToast","duration","hideLoading","finish","stop","apply","arguments","cateName","iconMap","chooseAndUploadImage","_ref2","_callee3","chooseRes","uploadPromises","_callee3$","_context3","chooseImage","count","sizeType","sourceType","mediaType","tempFilePaths","_ref3","_callee2","filePath","newIndex","uploadOptions","fallbackTimer","fallbackActive","_callee2$","_context2","push","fileURL","thumbnailURL","progress","getUploadFileOptions","cloudPath","userInfo","uid","Date","now","fileType","isOriginal","userNickName","nickName","setTimeout","setupFallback","currentProgress","_a","nextProgress","Math","min","abrupt","Promise","resolve","reject","uploadTask","uploadFile","uploadFileOptions","success","clearTimeout","compressedURL","fail","splice","onProgressUpdate","actualProgress","progressErr","_x","_x2","all","deleteImage","handleVideoLinkInput","e","currentLink","trim","urlPattern","test","vibrateShort","deleteVideo","isEditMode","editArticleId","onLoad","options","mode","article_id","loadArticleData","_ref4","_callee4","articleData","categoryIndex","_callee4$","_context4","getArticleDetal","articleRes","Error","cate_id","findIndex","images","img","url","videoURL","submitForm","_ref5","_callee5","uploadedImages","selectedCategoryInfo","isLocationBasedCategory","params","_callee5$","_context5","showModal","confirm","retryGetCategories","find","user_id","user_nickName","user_avatarUrl","avatarUrl","user_mobile","mobile","pay_amount","is_location_based_category","category_info","updateArticle","addArticle","id","navigateBack","delta","$emit","timestamp","pages","message","selectCategory","_ref6","_callee6","category","tempResult","_callee6$","_context6","generateTempCategoryIcon","tempFilePath","saveCustomIcon","_x3","_ref7","_callee7","categoryName","getColorFromName","colors","canvasSize","iconSize","canvas","ctx","firstChar","fontSize","textX","textY","_callee7$","_context7","hash","i","charCodeAt","h","abs","s","l","foregroundColor","background","foreground","createOffscreenCanvas","width","height","getContext","fillStyle","fillRect","strokeStyle","lineWidth","strokeRect","charAt","font","textAlign","textBaseline","fillText","buffer","toDataURL","fs","getFileSystemManager","tempFilePath2","env","USER_DATA_PATH","base64Data","replace","writeFile","encoding","JSON","stringify","_x4","onMounted","createNewCategoryIcon","handleLineChange","lineCount","detail","max","adjustScrollPosition","updateIconPreview","_ref8","_callee8","_callee8$","_context8","_ref9","_callee9","uploadResult","uploadRes","updateResult","_callee9$","_context9","statusCode","updateCategoryIcon","updated","error","cate_img_thumbnail","cancelCustomize","nextTick$1","windowHeight","getWindowInfo","textareaHeight","keyboardHeight","extraOffset","scrollTop","pageScrollTo","insertTextAtCursor","textToInsert","before","substring","after","newPosition","split","handleSelectionChange","insertEmoji","emoji","selectEmojiGroup","enhanceTextareaSelection","shouldShowKeyboard","createSelectorQuery","select","boundingClientRect","textAreaRect","left","top","exec","enablePreciseSelection","preventDefault","showActionSheet","itemList","tapIndex","selectedText","setClipboardData","getClipboardData","res2","wx","createPage","MiniProgramPage"],"sources":["fabu.vue","D:/‰ª£Á†ÅÊµãËØï/HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZmFidS9mYWJ1LnZ1ZQ"],"sourcesContent":["<script setup>\n\timport { ref, onMounted, nextTick, computed } from 'vue'\n\timport { useUserInfoStore } from '@/store/user.js'\n\n\t// Store & API\n\tconst userStore = useUserInfoStore( )\n\tconst articleApi = uniCloud.importObject( 'articleWx', { customUI: true })\n\tconst extStorageCo = uniCloud.importObject('fabuWx', { customUI: true })\n\t// È°µÈù¢ÂàùÂßãÊï∞ÊçÆ\n\tconst articleData = ref( null )\n\tconst categoryList = ref( [ ] )\n\tconst cateIndex = ref( 0 )\n\tconst imageList = ref([])\n\tconst uploadingCount = ref(0)\n\tconst locationInfo = ref( null )\n\tconst content = ref( '' )\n\tconst selectedCategory = ref( null )\n\tconst videoInfo = ref(null)\n\tconst textareaFocus = ref(false)\n\tconst contentTextarea = ref(null)\n\tconst payAmount = ref(0)\n\tconst videoLink = ref('')\n\tconst inputHeight = ref(170)\n\tconst selectionStart = ref(0)\n\tconst selectionEnd = ref(0)\n\tconst textareaElement = ref(null) // ËÆ∞ÂΩïDOMÂÖÉÁ¥†\n\tconst isInSelectionMode = ref(false) // ÊñáÊú¨ÈÄâÊã©Ê®°ÂºèÁä∂ÊÄÅ\n\n\t// ËÆ°ÁÆóÈÄâÊã©ÁöÑÂ≠óÁ¨¶Êï∞\n\tconst selectedCharsCount = computed(() => {\n\t\treturn selectionEnd.value - selectionStart.value\n\t})\n\n\t// ÂõæÊ†áÁîüÊàêÁõ∏ÂÖ≥\n\tconst iconCustomizing = ref(false)\n\tconst textOffsetX = ref(0)  // ÊñáÂ≠óXËΩ¥ÂÅèÁßªÈáè\n\tconst textOffsetY = ref(0)  // ÊñáÂ≠óYËΩ¥ÂÅèÁßªÈáè\n\tconst textSize = ref(100)   // ÊñáÂ≠óÂ§ßÂ∞èÁôæÂàÜÊØî\n\tconst previewImageUrl = ref('') // È¢ÑËßàÂõæURL\n\n\t// ÂΩìÂâçÊ≠£Âú®ÁºñËæëÁöÑÂàÜÁ±ª\n\tlet currentEditingCategory = null;\n\n\t// Ê∑ªÂä†‰ª•‰∏ãÂ∏∏Áî®ÊñáÊú¨ÂäüËÉΩÁõ∏ÂÖ≥ÁöÑÂèòÈáè\n\tconst commonPhrases = ref([\n\t\t'Ê¨¢ËøéÂí®ËØ¢',\n\t\t'ÂÖ®Êñ∞‰∫ßÂìÅ',\n\t\t'ÈôêÊó∂‰ºòÊÉ†',\n\t\t'ËØö‰ø°‰∫§Êòì',\n\t\t'ÊîØÊåÅËá™Êèê'\n\t])\n\n\t// Ê∑ªÂä†Ë°®ÊÉÖÁ¨¶Âè∑Áõ∏ÂÖ≥ÁöÑÂèòÈáè\n\tconst showEmojiPanel = ref(false)\n\tconst emojiGroups = ref([\n\t\t{\n\t\t\tname: 'Â∏∏Áî®',\n\t\t\temojis: ['üòä', 'üëç', '‚ù§Ô∏è', 'üëã', 'üôè', 'üî•', 'üíØ', 'üëè', 'üéâ', '‚ú®', 'üåπ', 'üí™', 'ü§ù']\n\t\t},\n\t\t{\n\t\t\tname: 'Ë°®ÊÉÖ',\n\t\t\temojis: ['üòÄ', 'üòÑ', 'üòÅ', 'üòÜ', 'üòÖ', 'üòÇ', 'ü§£', 'üòä', 'üòá', 'üôÇ', 'üòâ', 'üòå', 'üòç']\n\t\t},\n\t\t{\n\t\t\tname: 'ÊâãÂäø',\n\t\t\temojis: ['üëç', 'üëé', 'üëå', '‚úåÔ∏è', 'ü§û', 'ü§ü', 'ü§ô', 'ü§õ', 'ü§ú', 'üëä', '‚úä', 'ü§ù', 'üëè']\n\t\t}\n\t])\n\tconst currentEmojiGroupIndex = ref(0)\n\n\t// Ê∑ªÂä†Âø´Êç∑ËæìÂÖ•Â∏∏Áî®ËØçÂäüËÉΩ\n\t// Âà†Èô§‰ª•‰∏ãÂÜÖÂÆπ\n\t// const quickPhrases = ref([\n\t//   'Ê¨¢ËøéÂí®ËØ¢',\n\t//   'ÊúâÁé∞Ë¥ß',\n\t//   'ÊîØÊåÅËá™Êèê',\n\t//   'ÂÖ®Êñ∞Ê≠£ÂìÅ',\n\t//   'ÂåÖÈÇÆÂà∞ÂÆ∂'\n\t// ])\n\t// const showQuickPhrases = ref(false)\n\t// const toggleQuickPhrases = () => {...}\n\t// const insertQuickPhrase = (phrase) => {...}\n\n\t// ÊòæÁ§∫Âø´Êç∑Áü≠ËØ≠Èù¢ÊùøÁöÑÁä∂ÊÄÅ\n\t// Âà†Èô§‰ª•‰∏ãÂÜÖÂÆπ\n\t// const showQuickPhrases = ref(false)\n\n\t// ÂàáÊç¢Âø´Êç∑Áü≠ËØ≠Èù¢Êùø\n\t// Âà†Èô§‰ª•‰∏ãÂÜÖÂÆπ\n\t// const toggleQuickPhrases = () => {...}\n\n\t// ÊèíÂÖ•Âø´Êç∑Áü≠ËØ≠\n\t// Âà†Èô§‰ª•‰∏ãÂÜÖÂÆπ\n\t// const insertQuickPhrase = (phrase) => {...}\n\n\t// Ëé∑Âèñ‰ΩçÁΩÆÂíåÂàÜÁ±ª\n\tconst getLocaAndCate = async ( ) => {\n\t\ttry {\n\t\t\t// ÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: 'Âä†ËΩΩ‰∏≠...',\n\t\t\t\tmask: false\n\t\t\t})\n\t\t\t\n\t\t\t// Ëé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØ\n\t\t\tlet locationRes = await uni.getLocation({\n\t\t\t\ttype: 'gcj02'\n\t\t\t}).catch(err => {\n\t\t\t\tconsole.error('Ëé∑Âèñ‰ΩçÁΩÆÂ§±Ë¥•:', err)\n\t\t\t\t// Â¶ÇÊûúËé∑Âèñ‰ΩçÁΩÆÂ§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂùêÊ†á\n\t\t\t\treturn { longitude: 116.397428, latitude: 39.90923 }\n\t\t\t})\n\t\t\t\n\t\t\t// Ë∞ÉÁî®APIËé∑ÂèñÂàÜÁ±ªÂíåÂú∞ÂùÄ‰ø°ÊÅØ\n\t\t\tconst res = await articleApi.addReady(`${locationRes.longitude},${locationRes.latitude}`)\n\t\t\tconsole.log('Ëé∑ÂèñÂàÜÁ±ªÂíåÂú∞ÂùÄ‰ø°ÊÅØÊàêÂäü:', res)\n\t\t\t\n\t\t\t// ËÆæÁΩÆ‰ΩçÁΩÆ‰ø°ÊÅØ\n\t\t\tlocationInfo.value = {\n\t\t\t\taddress: res.address || 'Êú™Áü•Âú∞ÂùÄ',\n\t\t\t\tdistrict: res.district || 'Êú™Áü•Âå∫Âüü'\n\t\t\t}\n\t\t\t\n\t\t\t// Â¶ÇÊûúËé∑ÂèñÂà∞‰∫ÜÂå∫Âüü‰ø°ÊÅØÔºåÂàôÂ∞ùËØïÊ†πÊçÆÂå∫ÂüüÂàõÂª∫ÊàñËé∑ÂèñÂàÜÁ±ª\n\t\t\tif (res.district && res.district !== 'Êú™Áü•Âå∫Âüü') {\n\t\t\t\ttry {\n\t\t\t\t\t// Ë∞ÉÁî®‰∫ëÂáΩÊï∞ÂàõÂª∫ÊàñËé∑ÂèñÂü∫‰∫éÂå∫ÂüüÁöÑÂàÜÁ±ª\n\t\t\t\t\tconst categoryResult = await extStorageCo.processCategoryFromDistrict(res.district)\n\t\t\t\t\tconsole.log('Âå∫ÂüüÂàÜÁ±ªÂ§ÑÁêÜÁªìÊûú:', categoryResult)\n\t\t\t\t\t\n\t\t\t\t\t// Â¶ÇÊûúÊàêÂäüÂàõÂª∫ÊàñËé∑Âèñ‰∫ÜÂü∫‰∫é‰ΩçÁΩÆÁöÑÂàÜÁ±ªÔºåÈáçÊñ∞Ëé∑ÂèñÂàÜÁ±ªÂàóË°®\n\t\t\t\t\tif (categoryResult.code === 0 && categoryResult.data) {\n\t\t\t\t\t\t// ÈáçÊñ∞Ëé∑ÂèñÊúÄÊñ∞ÁöÑÂàÜÁ±ªÂàóË°®\n\t\t\t\t\t\tconst updatedCateRes = await articleApi.addReady(`${locationRes.longitude},${locationRes.latitude}`)\n\t\t\t\t\t\tif (updatedCateRes.cateList && updatedCateRes.cateList.length > 0) {\n\t\t\t\t\t\t\tres.cateList = updatedCateRes.cateList\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} catch (categoryError) {\n\t\t\t\t\tconsole.error('Â§ÑÁêÜÂå∫ÂüüÂàÜÁ±ªÂ§±Ë¥•:', categoryError)\n\t\t\t\t\t// ÁªßÁª≠‰ΩøÁî®ÂéüÊúâÂàÜÁ±ªÂàóË°®Ôºå‰∏ç‰∏≠Êñ≠ÊµÅÁ®ã\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// ËÆæÁΩÆÂàÜÁ±ªÂàóË°® - Âè™‰øùÁïôÂΩìÂâç‰ΩçÁΩÆÁöÑÂàÜÁ±ª\n\t\t\tif (res.cateList && res.cateList.length > 0) {\n\t\t\t\t// Á≠õÈÄâÂá∫ÂΩìÂâçÂå∫ÂüüÁöÑ‰ΩçÁΩÆÂàÜÁ±ª\n\t\t\t\tconst locationBasedCategories = res.cateList.filter(cate => \n\t\t\t\t\tcate.is_location_based && cate.location_district === res.district\n\t\t\t\t)\n\t\t\t\t\n\t\t\t\t// Â¶ÇÊûúÊúâÊú¨Âú∞Âå∫ÂàÜÁ±ªÔºåÂàôÂè™ÊòæÁ§∫ÂÆÉ‰ª¨\n\t\t\t\tif (locationBasedCategories.length > 0) {\n\t\t\t\t\tcategoryList.value = locationBasedCategories.map(cate => {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...cate,\n\t\t\t\t\t\t\ticon: cate.cate_img || getDefaultCategoryIcon(cate.cate_name)\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// ÈÄâÊã©Á¨¨‰∏Ä‰∏™‰ΩçÁΩÆÂàÜÁ±ª\n\t\t\t\t\tselectedCategory.value = categoryList.value[0]._id\n\t\t\t\t\tcateIndex.value = 0\n\t\t\t\t\t\n\t\t\t\t\t// Ëá™Âä®‰∏∫‰ΩçÁΩÆÂàÜÁ±ªÁîüÊàêÂõæÊ†áÔºàÂ¶ÇÊûúÈúÄË¶ÅÔºâ\n\t\t\t\t\tconst firstCategory = categoryList.value[0]\n\t\t\t\t\tif (!firstCategory.cate_img || firstCategory.cate_img.includes('default')) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tconsole.log('‰∏∫‰ΩçÁΩÆÂàÜÁ±ªËá™Âä®ÁîüÊàêÂõæÊ†á:', firstCategory.cate_name)\n\t\t\t\t\t\t\tconst iconResult = await generateCategoryIcon(firstCategory.cate_name, firstCategory._id)\n\t\t\t\t\t\t\tif (iconResult && iconResult.iconURL) {\n\t\t\t\t\t\t\t\t// Êõ¥Êñ∞UI‰∏≠ÁöÑÂõæÊ†á\n\t\t\t\t\t\t\t\tfirstCategory.icon = iconResult.iconURL\n\t\t\t\t\t\t\t\t// Á°Æ‰øùÂàÜÁ±ªÂàóË°®‰∏≠ÁöÑÂõæÊ†á‰πüË¢´Êõ¥Êñ∞\n\t\t\t\t\t\t\t\tcategoryList.value[0].icon = iconResult.iconURL\n\t\t\t\t\t\t\t\tcategoryList.value[0].cate_img = iconResult.iconURL\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} catch (iconError) {\n\t\t\t\t\t\t\tconsole.error('Ëá™Âä®ÁîüÊàê‰ΩçÁΩÆÂàÜÁ±ªÂõæÊ†áÂ§±Ë¥•:', iconError)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// Â¶ÇÊûúÊ≤°Êúâ‰ΩçÁΩÆÂàÜÁ±ªÔºåÂ∞ùËØïÂàõÂª∫‰∏Ä‰∏™\n\t\t\t\t\ttry {\n\t\t\t\t\t\tif (res.district && res.district !== 'Êú™Áü•Âå∫Âüü') {\n\t\t\t\t\t\t\t// ÂàõÂª∫ÂΩìÂâç‰ΩçÁΩÆÁöÑÂàÜÁ±ª\n\t\t\t\t\t\t\tconst createResult = await extStorageCo.createLocationCategory({\n\t\t\t\t\t\t\t\tdistrict: res.district,\n\t\t\t\t\t\t\t\taddress: res.address\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (createResult && createResult.categoryId) {\n\t\t\t\t\t\t\t\t// ÂàõÂª∫ÊàêÂäüÔºåÊ∑ªÂä†Âà∞ÂàÜÁ±ªÂàóË°®\n\t\t\t\t\t\t\t\tconst newCategory = {\n\t\t\t\t\t\t\t\t\t_id: createResult.categoryId,\n\t\t\t\t\t\t\t\t\tcate_name: res.district,\n\t\t\t\t\t\t\t\t\tis_location_based: true,\n\t\t\t\t\t\t\t\t\tlocation_district: res.district,\n\t\t\t\t\t\t\t\t\ticon: getDefaultCategoryIcon(res.district)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tcategoryList.value = [newCategory]\n\t\t\t\t\t\t\t\tselectedCategory.value = newCategory._id\n\t\t\t\t\t\t\t\tcateIndex.value = 0\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// ‰∏∫Êñ∞ÂàÜÁ±ªÁîüÊàêÂõæÊ†á\n\t\t\t\t\t\t\t\thandleGenerateIcon(newCategory)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// ÂàõÂª∫Â§±Ë¥•Ôºå‰ΩøÁî®ÈªòËÆ§ÂàÜÁ±ª\n\t\t\t\t\t\t\t\tsetDefaultCategory()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Ê≤°Êúâ‰ΩçÁΩÆ‰ø°ÊÅØÔºå‰ΩøÁî®ÈªòËÆ§ÂàÜÁ±ª\n\t\t\t\t\t\t\tsetDefaultCategory()\n\t\t\t\t\t\t}\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tconsole.error('ÂàõÂª∫‰ΩçÁΩÆÂàÜÁ±ªÂ§±Ë¥•:', e)\n\t\t\t\t\t\tsetDefaultCategory()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconsole.warn('Êú™Ëé∑ÂèñÂà∞ÂàÜÁ±ªÂàóË°®ÊàñÂàÜÁ±ªÂàóË°®‰∏∫Á©∫')\n\t\t\t\tsetDefaultCategory()\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Ëé∑Âèñ‰ΩçÁΩÆÂíåÂàÜÁ±ªÂ§±Ë¥•:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Ëé∑ÂèñÂàÜÁ±ªÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t\t\n\t\t\t// ËÆæÁΩÆÈªòËÆ§ÂÄº\n\t\t\tlocationInfo.value = {\n\t\t\t\taddress: 'Êú™Áü•Âú∞ÂùÄ',\n\t\t\t\tdistrict: 'Êú™Áü•Âå∫Âüü'\n\t\t\t}\n\t\t\tsetDefaultCategory()\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\t\n\t// ËÆæÁΩÆÈªòËÆ§ÂàÜÁ±ªÁöÑËæÖÂä©ÂáΩÊï∞\n\tconst setDefaultCategory = () => {\n\t\tcategoryList.value = [{ \n\t\t\t_id: 'default', \n\t\t\tcate_name: 'ÈªòËÆ§ÂàÜÁ±ª',\n\t\t\ticon: '/static/images/category/default.png'\n\t\t}]\n\t\tselectedCategory.value = 'default'\n\t\tcateIndex.value = 0\n\t}\n\n\t// Ê†πÊçÆÂàÜÁ±ªÂêçÁß∞Ëé∑ÂèñÈªòËÆ§ÂõæÊ†á\n\tconst getDefaultCategoryIcon = (cateName) => {\n\t\t// ÂÆö‰πâÂ∏∏ËßÅÂàÜÁ±ªÁöÑÈªòËÆ§ÂõæÊ†áÊò†Â∞Ñ\n\t\tconst iconMap = {\n\t\t\t'ÂÆ†Áâ©Áî®ÂìÅ': '/static/images/category/pet.png',\n\t\t\t'Ê∞¥ÊùØÈ§êÂÖ∑': '/static/images/category/tableware.png',\n\t\t\t'Êó•Áî®ÁôæË¥ß': '/static/images/category/daily.png',\n\t\t\t'Ê∏ÖÊ¥ÅÂ∑•ÂÖ∑': '/static/images/category/cleaning.png',\n\t\t\t'Êî∂Á∫≥Êï¥ÁêÜ': '/static/images/category/storage.png',\n\t\t\t'ÊñáÂÖ∑ÊïôÂÖ∑': '/static/images/category/stationery.png',\n\t\t\t'ÁïúÁâßÂÜúËµÑ': '/static/images/category/agriculture.png',\n\t\t\t'Á∫∏ÂìÅÊπøÂ∑æ': '/static/images/category/tissue.png',\n\t\t\t'‰∏™‰∫∫Êä§ÁêÜ': '/static/images/category/personal.png',\n\t\t\t'Âé®ÊàøÁÉπÈ•™': '/static/images/category/kitchen.png',\n\t\t\t'ËäÇÂ∫ÜÁ§ºÂìÅ': '/static/images/category/gift.png',\n\t\t\t'Âõæ‰π¶‰πêÂô®': '/static/images/category/book.png',\n\t\t\t'ÂÆ∂Â∫≠Ê∏ÖÊ¥Å': '/static/images/category/home.png',\n\t\t\t'Ëä±ÂçâÂõ≠Ëâ∫': '/static/images/category/garden.png',\n\t\t\t'ÈîÖÂÖ∑Ê∞¥Â£∂': '/static/images/category/pot.png'\n\t\t}\n\t\t\n\t\t// ËøîÂõûÂØπÂ∫îÁöÑÂõæÊ†áÔºåÂ¶ÇÊûúÊ≤°ÊúâÂåπÈÖçÈ°πÂàôËøîÂõûÈªòËÆ§ÂõæÊ†á\n\t\treturn iconMap[cateName] || '/static/images/default.png' // ‰ΩøÁî®schema‰∏≠ÂÆö‰πâÁöÑÈªòËÆ§ÂõæÁâáË∑ØÂæÑ\n\t}\n\n\t// ‰øÆÊîπÂõæÁâáÈÄâÊã©Âíå‰∏ä‰º†ÊñπÊ≥ï\n\tconst chooseAndUploadImage = async () => {\n\t\ttry {\n\t\t\t// ÁßªÈô§ÂõæÁâáÊï∞ÈáèÈôêÂà∂Ê£ÄÊü•\n\t\t\t// ÈÄâÊã©ÂõæÁâáÔºåËÆæÁΩÆ sizeType Âè™ÂåÖÂê´ original Êù•ÈÄâÊã©ÂéüÂõæ\n\t\t\tconst chooseRes = await uni.chooseImage({\n\t\t\t\tcount: 9, // ‰øùÁïôÊ≠§ÂèÇÊï∞‰ΩÜ‰∏çÂÜçÂÅöÂâçÁΩÆÊ£ÄÊü•\n\t\t\t\tsizeType: ['original'], // Âè™‰ΩøÁî®ÂéüÂõæ\n\t\t\t\tsourceType: ['album', 'camera'],\n\t\t\t\tmediaType: ['image'] // Âè™ÈÄâÊã©ÂõæÁâáÔºåÈöêËóèËßÜÈ¢ë\n\t\t\t})\n\n\t\t\t// ‰∏ä‰º†ÊâÄÊúâÈÄâ‰∏≠ÁöÑÂõæÁâá\n\t\t\tconst uploadPromises = chooseRes.tempFilePaths.map(async (filePath, index) => {\n\t\t\t\t// ÂàõÂª∫‰∏¥Êó∂ÂõæÁâáÂØπË±°Âπ∂Ê∑ªÂä†Âà∞È¢ÑËßàÂàóË°®\n\t\t\t\tconst newIndex = imageList.value.length\n\t\t\t\timageList.value.push({\n\t\t\t\t\tfileURL: '',\n\t\t\t\t\tthumbnailURL: filePath,\n\t\t\t\t\tprogress: 0\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\t// Ëé∑Âèñ‰∏ä‰º†ÈÖçÁΩÆ\n\t\t\t\t\tconst uploadOptions = await extStorageCo.getUploadFileOptions({\n\t\t\t\t\t\tcloudPath: `images/${userStore.userInfo.uid}/${Date.now()}-${newIndex}.jpg`,\n\t\t\t\t\t\tfileType: 'image',\n\t\t\t\t\t\tisOriginal: true,\n\t\t\t\t\t\tuserNickName: userStore.userInfo.nickName\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// ÂàõÂª∫Â§áÁî®ËøõÂ∫¶ÂÆöÊó∂Âô®ÔºàÂ¶ÇÊûúonProgressUpdate‰∏çÂ∑•‰ΩúÔºâ\n\t\t\t\t\tlet fallbackTimer = null;\n\t\t\t\t\tlet fallbackActive = true;\n\t\t\t\t\t\n\t\t\t\t\t// ÂêØÂä®Â§áÁî®ËøõÂ∫¶Âä®Áîª - ‰ªÖÂΩìÂÆûÈôÖËøõÂ∫¶ÂõûË∞ÉÊú™Â∑•‰ΩúÊó∂‰ΩøÁî®\n\t\t\t\t\tfallbackTimer = setTimeout(function setupFallback() {\n\t\t\t\t\t\tif (!fallbackActive) return;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Ëé∑ÂèñÂΩìÂâçËøõÂ∫¶\n\t\t\t\t\t\tconst currentProgress = imageList.value[newIndex]?.progress || 0;\n\t\t\t\t\t\tif (currentProgress >= 98) {\n\t\t\t\t\t\t\tfallbackActive = false;\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ËÆ°ÁÆó‰∏ã‰∏Ä‰∏™ËøõÂ∫¶ÂÄº - ÁºìÊÖ¢‰∏äÂçáÔºåÈÅøÂÖçË∂ÖËøáÂÆûÈôÖËøõÂ∫¶ËøáÂ§ö\n\t\t\t\t\t\tlet nextProgress;\n\t\t\t\t\t\tif (currentProgress < 30) {\n\t\t\t\t\t\t\tnextProgress = currentProgress + 5;\n\t\t\t\t\t\t} else if (currentProgress < 70) {\n\t\t\t\t\t\t\tnextProgress = currentProgress + 3;\n\t\t\t\t\t\t} else if (currentProgress < 90) {\n\t\t\t\t\t\t\tnextProgress = currentProgress + 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnextProgress = currentProgress + 0.5;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Êõ¥Êñ∞ËøõÂ∫¶ÔºåÊúÄÂ§ß98%\n\t\t\t\t\t\timageList.value[newIndex].progress = Math.min(98, nextProgress);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ÁªßÁª≠‰∏ã‰∏Ä‰∏™Êõ¥Êñ∞\n\t\t\t\t\t\tfallbackTimer = setTimeout(setupFallback, 800);\n\t\t\t\t\t}, 500);\n\t\t\t\t\t\n\t\t\t\t\t// ÊâßË°å‰∏ä‰º†\n\t\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\t\tconst uploadTask = uni.uploadFile({\n\t\t\t\t\t\t\t...uploadOptions.uploadFileOptions,\n\t\t\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t// ÂèñÊ∂àÂ§áÁî®ÂÆöÊó∂Âô®\n\t\t\t\t\t\t\t\tfallbackActive = false;\n\t\t\t\t\t\t\t\tclearTimeout(fallbackTimer);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// Êõ¥Êñ∞‰∏ä‰º†ÊàêÂäüÂêéÁöÑÊñá‰ª∂‰ø°ÊÅØ\n\t\t\t\t\t\t\t\timageList.value[newIndex].progress = 100;\n\t\t\t\t\t\t\t\timageList.value[newIndex].fileURL = uploadOptions.fileURL;\n\t\t\t\t\t\t\t\timageList.value[newIndex].compressedURL = uploadOptions.compressedURL;\n\t\t\t\t\t\t\t\timageList.value[newIndex].thumbnailURL = uploadOptions.thumbnailURL;\n\t\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\t// ÂèñÊ∂àÂ§áÁî®ÂÆöÊó∂Âô®\n\t\t\t\t\t\t\t\tfallbackActive = false;\n\t\t\t\t\t\t\t\tclearTimeout(fallbackTimer);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconsole.error(\"‰∏ä‰º†Â§±Ë¥•\", err);\n\t\t\t\t\t\t\t\timageList.value.splice(newIndex, 1);\n\t\t\t\t\t\t\t\treject(err);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Â∞ùËØï‰ΩøÁî®ÂÆûÈôÖ‰∏ä‰º†ËøõÂ∫¶Êõ¥Êñ∞ÔºàÂ¶ÇÊûúÂπ≥Âè∞ÊîØÊåÅÔºâ\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tuploadTask.onProgressUpdate((res) => {\n\t\t\t\t\t\t\t\tif (res && typeof res.progress === 'number') {\n\t\t\t\t\t\t\t\t\t// Êî∂Âà∞ÂÆûÈôÖËøõÂ∫¶ÔºåÂÅúÁî®Â§áÁî®ËøõÂ∫¶\n\t\t\t\t\t\t\t\t\tfallbackActive = false;\n\t\t\t\t\t\t\t\t\tclearTimeout(fallbackTimer);\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// Êõ¥Êñ∞ÂÆûÈôÖËøõÂ∫¶ÔºåÊúÄÂ§ß99%Ôºà‰øùÁïô1%ÁªôÊúçÂä°Âô®Â§ÑÁêÜÈò∂ÊÆµÔºâ\n\t\t\t\t\t\t\t\t\tconst actualProgress = Math.min(99, res.progress);\n\t\t\t\t\t\t\t\t\timageList.value[newIndex].progress = actualProgress;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} catch (progressErr) {\n\t\t\t\t\t\t\tconsole.log('ËøõÂ∫¶Êõ¥Êñ∞ÂõûË∞É‰∏çÂèØÁî®Ôºå‰ΩøÁî®Â§áÁî®ËøõÂ∫¶ÊòæÁ§∫', progressErr);\n\t\t\t\t\t\t\t// ÁªßÁª≠‰ΩøÁî®Â§áÁî®ËøõÂ∫¶ÂÆöÊó∂Âô®\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// Â§ÑÁêÜÂçï‰∏™ÂõæÁâá‰∏ä‰º†ÈîôËØØ\n\t\t\t\t\timageList.value.splice(newIndex, 1);\n\t\t\t\t\tconsole.error('‰∏ä‰º†ÂõæÁâáÈîôËØØ:', err);\n\t\t\t\t\treturn Promise.reject(err);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\t// Á≠âÂæÖÊâÄÊúâ‰∏ä‰º†ÂÆåÊàê\n\t\t\tawait Promise.all(uploadPromises);\n\t\t} catch (err) {\n\t\t\t// ‰ªÖÂú®Âá∫ÈîôÊó∂ÊòæÁ§∫ÊèêÁ§∫\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '‰∏ä‰º†Â§±Ë¥•',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\tconsole.error('ÂõæÁâá‰∏ä‰º†ËøáÁ®ãÈîôËØØ:', err);\n\t\t}\n\t}\n\n\t// Âà†Èô§ÂõæÁâáÊñπÊ≥ï\n\tconst deleteImage = (index) => {\n\t\timageList.value.splice(index, 1)\n\t}\n\n\t// ‰øÆÊîπËßÜÈ¢ëÈÄâÊã©ÊñπÊ≥ïÔºåÊ∑ªÂä†Ëá™Âä®‰øùÂ≠òÂäüËÉΩ\n\tconst handleVideoLinkInput = (e) => {\n\t  // Âú®ËæìÂÖ•Êó∂Ëá™Âä®È™åËØÅÂπ∂‰øùÂ≠òÈìæÊé•\n\t  const currentLink = videoLink.value.trim();\n\t  \n\t  // Â¶ÇÊûúÈìæÊé•‰∏∫Á©∫ÔºåÂàôÊ∏ÖÁ©∫ËßÜÈ¢ë‰ø°ÊÅØ\n\t  if (!currentLink) {\n\t    videoInfo.value = null;\n\t    return;\n\t  }\n\t  \n\t  // ÁÆÄÂçïÈ™åËØÅÈìæÊé•Ê†ºÂºèÔºå‰ΩÜ‰∏çÊòæÁ§∫ÈîôËØØÊèêÁ§∫\n\t  const urlPattern = /^(https?:\\/\\/)?([\\w-]+\\.)+[\\w-]+(\\/[\\w- ./?%&=]*)?$/;\n\t  if (!urlPattern.test(currentLink)) {\n\t    return; // ‰∏çÁ¨¶ÂêàÈìæÊé•Ê†ºÂºèÔºå‰∏ç‰øùÂ≠ò\n\t  }\n\t  \n\t  // ËÆæÁΩÆËßÜÈ¢ëÈìæÊé•\n\t  videoInfo.value = currentLink;\n\t  \n\t  // Êèê‰æõËΩªÂæÆÁöÑÂèçÈ¶àÔºàÂèØÈÄâÔºâ\n\t  uni.vibrateShort && uni.vibrateShort({ type: 'light' });\n\t}\n\n\t// Ê∑ªÂä†ËßÜÈ¢ëÈìæÊé•\n\tconst addVideoLink = () => {\n\t\tif (!validateVideoLink()) return\n\t\t\n\t\t// Â¶ÇÊûúÂ∑≤ÊúâËßÜÈ¢ëÔºå‰∏çÂÖÅËÆ∏ÂÜçÊ¨°Ê∑ªÂä†\n\t\tif (videoInfo.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Âè™ËÉΩÊ∑ªÂä†‰∏Ä‰∏™ËßÜÈ¢ë',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\t\n\t\t// ËÆæÁΩÆËßÜÈ¢ëÈìæÊé•\n\t\tvideoInfo.value = videoLink.value.trim()\n\t\t\n\t\t// Ê∏ÖÁ©∫ËæìÂÖ•Ê°Ü\n\t\tvideoLink.value = ''\n\t\t\n\t\tuni.showToast({\n\t\t\ttitle: 'ËßÜÈ¢ëÈìæÊé•Â∑≤Ê∑ªÂä†',\n\t\t\ticon: 'success',\n\t\t\tduration: 1500\n\t\t})\n\t}\n\n\t// Ê∑ªÂä†Âà†Èô§ËßÜÈ¢ëÁöÑÊñπÊ≥ï\n\tconst deleteVideo = () => {\n\t\tvideoInfo.value = null\n\t}\n\n\t// Ê∑ªÂä†ÁºñËæëÊ®°ÂºèÁõ∏ÂÖ≥ÂèòÈáè\n\tconst isEditMode = ref(false)\n\tconst editArticleId = ref('')\n\n\t// Ê∑ªÂä†onLoadÁîüÂëΩÂë®Êúü\n\tonLoad((options) => {\n\t\t// Ê£ÄÊü•ÊòØÂê¶ÊòØÁºñËæëÊ®°Âºè\n\t\tif (options.mode === 'edit' && options.article_id) {\n\t\t\tisEditMode.value = true\n\t\t\teditArticleId.value = options.article_id\n\t\t\tloadArticleData()\n\t\t}\n\t})\n\n\t// Âä†ËΩΩÊñáÁ´†Êï∞ÊçÆ\n\tconst loadArticleData = async () => {\n\t\ttry {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: 'Âä†ËΩΩ‰∏≠...',\n\t\t\t\tmask: true\n\t\t\t})\n\t\t\t\n\t\t\tconst res = await articleApi.getArticleDetal(editArticleId.value)\n\t\t\t\n\t\t\tif (!res || !res.articleRes || !res.articleRes.data || !res.articleRes.data[0]) {\n\t\t\t\tthrow new Error('Ëé∑ÂèñÊñáÁ´†Êï∞ÊçÆÂ§±Ë¥•')\n\t\t\t}\n\t\t\t\n\t\t\tconst articleData = res.articleRes.data[0]\n\t\t\t\n\t\t\t// ËÆæÁΩÆÊñáÁ´†ÂÜÖÂÆπ\n\t\t\tcontent.value = articleData.content || ''\n\t\t\t\n\t\t\t// ËÆæÁΩÆÂàÜÁ±ª\n\t\t\tif (articleData.cate_id) {\n\t\t\t\tselectedCategory.value = articleData.cate_id\n\t\t\t\tconst categoryIndex = categoryList.value.findIndex(cate => cate._id === articleData.cate_id)\n\t\t\t\tif (categoryIndex !== -1) {\n\t\t\t\t\tcateIndex.value = categoryIndex\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// ËÆæÁΩÆÂõæÁâáÂàóË°®\n\t\t\tif (articleData.images && articleData.images.length > 0) {\n\t\t\t\timageList.value = articleData.images.map(img => ({\n\t\t\t\t\tfileURL: img.url || img,\n\t\t\t\t\tthumbnailURL: img.thumbnailURL || img.compressedURL || img.url || img,\n\t\t\t\t\tcompressedURL: img.compressedURL || img.url || img,\n\t\t\t\t\tprogress: 100\n\t\t\t\t}))\n\t\t\t}\n\t\t\t\n\t\t\t// ËÆæÁΩÆËßÜÈ¢ë‰ø°ÊÅØ\n\t\t\tif (articleData.videoURL) {\n\t\t\t\tvideoInfo.value = articleData.videoURL\n\t\t\t}\n\t\t\t\n\t\t\t// ËÆæÁΩÆ‰ΩçÁΩÆ‰ø°ÊÅØ\n\t\t\tlocationInfo.value = {\n\t\t\t\taddress: articleData.address || 'Êú™Áü•Âú∞ÂùÄ',\n\t\t\t\tdistrict: articleData.district || 'Êú™Áü•Âå∫Âüü'\n\t\t\t}\n\t\t\t\n\t\t} catch (err) {\n\t\t\tconsole.error('Âä†ËΩΩÊñáÁ´†Êï∞ÊçÆÂ§±Ë¥•:', err)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Âä†ËΩΩÊñáÁ´†Êï∞ÊçÆÂ§±Ë¥•',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\n\t// ‰øÆÊîπÊèê‰∫§Ë°®ÂçïÊñπÊ≥ï\n\tconst submitForm = async () => {\n\t\tif (!content.value.trim()) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ËØ∑ËæìÂÖ•ÂÜÖÂÆπ',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tif (!selectedCategory.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ËØ∑ÈÄâÊã©ÂàÜÁ±ª',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\t// Â¶ÇÊûúÊ≤°ÊúâÂàÜÁ±ªÔºåÂ∞ùËØïÈáçÊñ∞Ëé∑Âèñ\n\t\t\tif (!categoryList.value.length || categoryList.value[0]._id === 'default') {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'ÊèêÁ§∫',\n\t\t\t\t\tcontent: 'Êú™ËÉΩËé∑ÂèñÂà∞ÂàÜÁ±ª‰ø°ÊÅØÔºåÊòØÂê¶ÈáçÊñ∞Ëé∑ÂèñÔºü',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tretryGetCategories()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn\n\t\t}\n\n\t\tif (!locationInfo.value || !locationInfo.value.address) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Êú™ËÉΩËé∑Âèñ‰ΩçÁΩÆ‰ø°ÊÅØ',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\tuni.showLoading({\n\t\t\ttitle: isEditMode.value ? 'Êõ¥Êñ∞‰∏≠...' : 'ÂèëÂ∏É‰∏≠...',\n\t\t\tmask: false\n\t\t})\n\n\t\ttry {\n\t\t\t// Ëé∑ÂèñÊâÄÊúâÂ∑≤‰∏ä‰º†ÂÆåÊàêÁöÑÂõæÁâáURL\n\t\t\tconst uploadedImages = imageList.value\n\t\t\t\t.filter(img => img.fileURL && img.progress === 100)\n\t\t\t\t.map(img => ({\n\t\t\t\t\turl: img.fileURL,\n\t\t\t\t\tcompressedURL: img.compressedURL,\n\t\t\t\t\tthumbnailURL: img.thumbnailURL\n\t\t\t\t}))\n\n\t\t\t// Áõ¥Êé•‰ΩøÁî®videoURLÂ≠óÊÆµ\n\t\t\tconst videoURL = videoInfo.value || null\n\t\t\t\n\t\t\t// Ëé∑ÂèñÈÄâ‰∏≠ÁöÑÂàÜÁ±ª‰ø°ÊÅØ\n\t\t\tconst selectedCategoryInfo = categoryList.value.find(cate => cate._id === selectedCategory.value) || null\n\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÊòØÂü∫‰∫é‰ΩçÁΩÆÁöÑÂàÜÁ±ª\n\t\t\tconst isLocationBasedCategory = selectedCategoryInfo && selectedCategoryInfo.is_location_based === true\n\n\t\t\tconst params = {\n\t\t\t\tuser_id: userStore.userInfo.uid,\n\t\t\t\tcontent: content.value.trim(),\n\t\t\t\timages: uploadedImages,\n\t\t\t\tvideoURL: videoURL,\n\t\t\t\tcate_id: selectedCategory.value,\n\t\t\t\taddress: locationInfo.value.address || 'Êú™Áü•Âú∞ÂùÄ',\n\t\t\t\tdistrict: locationInfo.value.district || 'Êú™Áü•Âå∫Âüü',\n\t\t\t\tuser_nickName: userStore.userInfo.nickName,\n\t\t\t\tuser_avatarUrl: userStore.userInfo.avatarUrl,\n\t\t\t\tuser_mobile: userStore.userInfo.mobile,\n\t\t\t\tpay_amount: payAmount.value || 0,\n\t\t\t\tis_location_based_category: isLocationBasedCategory,\n\t\t\t\tcategory_info: selectedCategoryInfo ? {\n\t\t\t\t\tname: selectedCategoryInfo.cate_name,\n\t\t\t\t\tis_location_based: selectedCategoryInfo.is_location_based || false,\n\t\t\t\t\tlocation_district: selectedCategoryInfo.location_district || null,\n\t\t\t\t\ticon: selectedCategoryInfo.icon || null,\n\t\t\t\t\tcate_img: selectedCategoryInfo.cate_img || selectedCategoryInfo.icon || null\n\t\t\t\t} : null\n\t\t\t}\n\n\t\t\tlet res\n\t\t\tif (isEditMode.value) {\n\t\t\t\t// Êõ¥Êñ∞ÊñáÁ´†\n\t\t\t\tres = await articleApi.updateArticle(editArticleId.value, params)\n\t\t\t} else {\n\t\t\t\t// ÂèëÂ∏ÉÊñ∞ÊñáÁ´†\n\t\t\t\tres = await articleApi.addArticle(params)\n\t\t\t}\n\n\t\t\tif (res.id || res.code === 0) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: isEditMode.value ? 'Êõ¥Êñ∞ÊàêÂäü' : 'ÂèëÂ∏ÉÊàêÂäü',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 1500,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tuni.navigateBack({\n\t\t\t\t\t\t\t\tdelta: 1,\n\t\t\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\t\t\tuni.$emit('globalRefresh', { \n\t\t\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t\t\t\tpages: ['index', 'userArticleList', 'articleDetail']\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tconsole.log('Ëß¶ÂèëÂÖ®Â±ÄÂà∑Êñ∞‰∫ã‰ª∂');\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, 1500);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthrow new Error(res.message || (isEditMode.value ? 'Êõ¥Êñ∞Â§±Ë¥•' : 'ÂèëÂ∏ÉÂ§±Ë¥•'))\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tconsole.error(isEditMode.value ? 'Êõ¥Êñ∞Â§±Ë¥•:' : 'ÂèëÂ∏ÉÂ§±Ë¥•:', err)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: err.message || (isEditMode.value ? 'Êõ¥Êñ∞Â§±Ë¥•ÔºåËØ∑ÈáçËØï' : 'ÂèëÂ∏ÉÂ§±Ë¥•ÔºåËØ∑ÈáçËØï'),\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\n\t// ÈÄâÊã©ÂàÜÁ±ª\n\tconst bindPickerChange = ( e ) => {\n\t\tconsole.log( e, 'ÂàÜÁ±ª' )\n\t\tcateIndex.value = e.detail.value\n\t\tselectedCategory.value = categoryList.value[ e.detail.value ]._id\n\t}\n\n\t// Áõ¥Êé•ÈÄâÊã©ÂàÜÁ±ª\n\tconst selectCategory = (index) => {\n\t\tcateIndex.value = index\n\t\tselectedCategory.value = categoryList.value[index]._id\n\t\tconsole.log('ÈÄâÊã©ÂàÜÁ±ª:', categoryList.value[index].cate_name)\n\t}\n\n\t// ‰ΩøÁî® uni-app API ÊéßÂà∂ÈîÆÁõò\n\tconst focusTextarea = () => {\n\t\t// ÂÖàÈöêËóèÈîÆÁõòÔºåÂÜçÂª∂ËøüÊòæÁ§∫ÔºåÈÅøÂÖçÈó™ÁÉÅÈóÆÈ¢ò\n\t\tuni.hideKeyboard && uni.hideKeyboard()\n\t\t\n\t\tsetTimeout(() => {\n\t\t\ttextareaFocus.value = true\n\t\t\t\n\t\t\t// Ê∑ªÂä†ÂÖâÊ†á‰ΩçÁΩÆËÆæÁΩÆ - ÈªòËÆ§ÂÖâÊ†áÁßªÂà∞ÂÜÖÂÆπÊú´Â∞æ\n\t\t\tif (content.value) {\n\t\t\t\tselectionStart.value = content.value.length\n\t\t\t\tselectionEnd.value = content.value.length\n\t\t\t}\n\t\t\t\n\t\t\t// ÊªöÂä®Âà∞ÂèØËßÜÂå∫ÂüüÔºåÁ°Æ‰øùËæìÂÖ•Âå∫ÂüüÂú®ÈîÆÁõò‰∏äÊñπ\n\t\t\tadjustScrollPosition()\n\t\t}, 50)\n\t}\n\n\t// ÈÄâÊã©ÊîØ‰ªòÈáëÈ¢ù\n\tconst onSelectPayAmount = (e) => {\n\t\tpayAmount.value = e.target.dataset.amount\n\t}\n\n\t// ÁîüÊàêÂàÜÁ±ªÂõæÊ†á\n\tconst handleGenerateIcon = async (category) => {\n\t\ttry {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: 'ÁîüÊàêÂõæÊ†á‰∏≠...',\n\t\t\t\tmask: false\n\t\t\t})\n\t\t\t\n\t\t\t// ÁîüÊàê‰∏¥Êó∂ÂõæÊ†á\n\t\t\tconst tempResult = await generateTempCategoryIcon(category.cate_name)\n\t\t\tif (tempResult && tempResult.tempFilePath) {\n\t\t\t\t// Áõ¥Êé•‰∏ä‰º†Âíå‰øùÂ≠òÂõæÊ†áÔºåË∑≥ËøáËá™ÂÆö‰πâË∞ÉÊï¥Èù¢Êùø\n\t\t\t\tcurrentEditingCategory = category\n\t\t\t\tpreviewImageUrl.value = tempResult.tempFilePath\n\t\t\t\t\n\t\t\t\t// Áõ¥Êé•‰øùÂ≠òÂõæÊ†á\n\t\t\t\tawait saveCustomIcon()\n\t\t\t} else {\n\t\t\t\tthrow new Error('ÁîüÊàê‰∏¥Êó∂ÂõæÊ†áÂ§±Ë¥•')\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('ÁîüÊàêÂõæÊ†áÂ§±Ë¥•:', error)\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ÁîüÊàêÂõæÊ†áÂ§±Ë¥•',\n\t\t\t\ticon: 'none'\n\t\t\t})\n\t\t} finally {\n\t\t\tuni.hideLoading()\n\t\t}\n\t}\n\t\n\t// ÁîüÊàê‰∏¥Êó∂È¢ÑËßàÂõæÊ†á\n\tconst generateTempCategoryIcon = async (categoryName) => {\n\t\ttry {\n\t\t\t// ÊòæÁ§∫Âä†ËΩΩ‰∏≠ÊèêÁ§∫\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: 'ÁîüÊàêÈ¢ÑËßà‰∏≠...',\n\t\t\t\tmask: false\n\t\t\t})\n\t\t\t\n\t\t\t// 1. Ê†πÊçÆÂàÜÁ±ªÂêçÁß∞ÁîüÊàêËÉåÊôØËâ≤ÂíåÂâçÊôØËâ≤Ôºà‰øùÊåÅÂéüÊúâ‰ª£Á†ÅÔºâ\n\t\t\tconst getColorFromName = (name) => {\n\t\t\t\t// ÁÆÄÂçïÂìàÂ∏åÁÆóÊ≥ïÁîüÊàêÈ¢úËâ≤\n\t\t\t\tlet hash = 0;\n\t\t\t\tfor (let i = 0; i < name.length; i++) {\n\t\t\t\t\thash = name.charCodeAt(i) + ((hash << 5) - hash);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ÁîüÊàêÊüîÂíåÁöÑËÉåÊôØËâ≤ - ‰ΩøÁî®HSLÈ¢úËâ≤Ê®°ÂûãÔºå‰øùÊåÅËæÉÈ´ò‰∫ÆÂ∫¶Âíå‰ΩéÈ•±ÂíåÂ∫¶\n\t\t\t\tconst h = Math.abs(hash) % 360; // Ëâ≤Áõ∏\n\t\t\t\tconst s = 40 + (Math.abs(hash) % 30); // È•±ÂíåÂ∫¶ 40-70%\n\t\t\t\tconst l = 75 + (Math.abs(hash) % 15); // ‰∫ÆÂ∫¶ 75-90%\n\t\t\t\t\n\t\t\t\t// ÂâçÊôØËâ≤ - Ê†πÊçÆËÉåÊôØËâ≤ÊòéÊöóÁ®ãÂ∫¶ÈÄâÊã©ÈªëÊàñÁôΩÊñáÊú¨\n\t\t\t\tconst foregroundColor = l > 65 ? '#333333' : '#FFFFFF';\n\t\t\t\t\n\t\t\t\treturn {\n\t\t\t\t\tbackground: `hsl(${h}, ${s}%, ${l}%)`,\n\t\t\t\t\tforeground: foregroundColor\n\t\t\t\t};\n\t\t\t}\n\t\t\t\n\t\t\t// 2. ÂàõÂª∫CanvasÁªòÂà∂ÂõæÊ†á\n\t\t\tconst colors = getColorFromName(categoryName);\n\t\t\tconst canvasSize = 200; // ÁîªÂ∏ÉÂ§ßÂ∞è\n\t\t\tconst iconSize = canvasSize;\n\t\t\t\n\t\t\t// ÂàõÂª∫Á¶ªÂ±èCanvas (AppÂíåÂ∞èÁ®ãÂ∫è)\n\t\t\tconst canvas = uni.createOffscreenCanvas({\n\t\t\t\ttype: '2d',\n\t\t\t\twidth: iconSize, \n\t\t\t\theight: iconSize\n\t\t\t})\n\t\t\tconst ctx = canvas.getContext('2d');\n\t\t\t\n\t\t\t// ÁªòÂà∂ËÉåÊôØ\n\t\t\tctx.fillStyle = colors.background;\n\t\t\tctx.fillRect(0, 0, iconSize, iconSize);\n\t\t\t\n\t\t\t// ÁªòÂà∂ËæπÊ°Ü\n\t\t\tctx.strokeStyle = 'rgba(0,0,0,0.1)';\n\t\t\tctx.lineWidth = 2;\n\t\t\tctx.strokeRect(2, 2, iconSize-4, iconSize-4);\n\t\t\t\n\t\t\t// ÁªòÂà∂ÊñáÂ≠ó - Â∫îÁî®ÂΩìÂâçÂÅèÁßªÂíåÂ§ßÂ∞èËÆæÁΩÆ\n\t\t\tconst firstChar = categoryName.charAt(0);\n\t\t\tctx.fillStyle = colors.foreground;\n\t\t\tconst fontSize = iconSize/2 * (textSize.value / 100);\n\t\t\tctx.font = `bold ${fontSize}px sans-serif`;\n\t\t\tctx.textAlign = 'center';\n\t\t\tctx.textBaseline = 'middle';\n\t\t\t\n\t\t\t// Â∫îÁî®ÂÅèÁßªÈáèÔºåÈªòËÆ§‰ΩçÁΩÆÊòØ‰∏≠ÂøÉÁÇπ(iconSize/2, iconSize/2)\n\t\t\tconst textX = iconSize/2 + (textOffsetX.value * iconSize / 100);\n\t\t\tconst textY = iconSize/2 + (textOffsetY.value * iconSize / 100);\n\t\t\tctx.fillText(firstChar, textX, textY);\n\t\t\t\n\t\t\t// 3. Â∞ÜCanvasËΩ¨‰∏∫‰∏¥Êó∂ÂõæÁâá\n\t\t\tconst tempFilePath = await new Promise((resolve, reject) => {\n\t\t\t\t// ÂØºÂá∫ÂõæÁâá\n\t\t\t\tconst buffer = canvas.toDataURL('image/png')\n\t\t\t\t\n\t\t\t\t// Â∞ÜBase64ËΩ¨‰∏∫Êú¨Âú∞‰∏¥Êó∂Êñá‰ª∂\n\t\t\t\tconst fs = uni.getFileSystemManager();\n\t\t\t\tconst tempFilePath = `${uni.env.USER_DATA_PATH}/temp_category_icon_${Date.now()}.png`;\n\t\t\t\t\n\t\t\t\t// ‰øùÂ≠òBase64‰∏∫‰∏¥Êó∂Êñá‰ª∂\n\t\t\t\tconst base64Data = buffer.replace(/^data:image\\/\\w+;base64,/, '');\n\t\t\t\tfs.writeFile({\n\t\t\t\t\tfilePath: tempFilePath,\n\t\t\t\t\tdata: base64Data,\n\t\t\t\t\tencoding: 'base64',\n\t\t\t\t\tsuccess: () => resolve(tempFilePath),\n\t\t\t\t\tfail: (err) => reject(new Error(`‰øùÂ≠ò‰∏¥Êó∂Êñá‰ª∂Â§±Ë¥•: ${JSON.stringify(err)}`))\n\t\t\t\t});\n\t\t\t});\n\t\t\t\n\t\t\tuni.hideLoading();\n\t\t\t\n\t\t\t// ËøîÂõû‰∏¥Êó∂Êñá‰ª∂Ë∑ØÂæÑÂíåÈ¢úËâ≤‰ø°ÊÅØ\n\t\t\treturn { \n\t\t\t\ttempFilePath,\n\t\t\t\tcolors\n\t\t\t};\n\t\t\t\n\t\t} catch (error) {\n\t\t\tuni.hideLoading();\n\t\t\tconsole.error('ÁîüÊàê‰∏¥Êó∂ÂõæÊ†áÂ§±Ë¥•:', error);\n\t\t\treturn null;\n\t\t}\n\t}\n\n\t// Ê∑ªÂä†ÈáçËØïËé∑ÂèñÂàÜÁ±ªÁöÑÊñπÊ≥ï\n\tconst retryGetCategories = () => {\n\t\tuni.showToast({\n\t\t\ttitle: 'Ê≠£Âú®ÈáçÊñ∞Ëé∑ÂèñÂàÜÁ±ª...',\n\t\t\ticon: 'loading',\n\t\t\tduration: 2000\n\t\t})\n\t\tsetTimeout(() => {\n\t\t\tgetLocaAndCate()\n\t\t}, 1000)\n\t}\n\n\t// ÁªÑ‰ª∂Âä†ËΩΩÊó∂Ëé∑Âèñ‰ΩçÁΩÆ\n\tonMounted(() => {\n\t\tisInSelectionMode.value = false\n\t\t// ÊâßË°åÂéüÊúâÁöÑonMounted‰ª£Á†Å\n\t\tgetLocaAndCate().catch(err => {\n\t\t\tconsole.error('onMountedËé∑ÂèñÂàÜÁ±ªÂ§±Ë¥•:', err)\n\t\t\tuni.showModal({\n\t\t\t\ttitle: 'ÊèêÁ§∫',\n\t\t\t\tcontent: 'Ëé∑ÂèñÂàÜÁ±ªÂ§±Ë¥•ÔºåÊòØÂê¶ÈáçËØïÔºü',\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\tretryGetCategories()\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t})\n\n\t// Ê∑ªÂä†ÂàõÂª∫Êñ∞ÂàÜÁ±ªÂõæÊ†áÁöÑÊñπÊ≥ï\n\tconst createNewCategoryIcon = () => {\n\t\tif (categoryList.value.length === 0) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Ê≤°ÊúâÂèØÁî®ÂàÜÁ±ª',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\t\n\t\t// Â¶ÇÊûúÂ∑≤ÈÄâÊã©ÂàÜÁ±ªÔºå‰∏∫ËØ•ÂàÜÁ±ªÁîüÊàêÂõæÊ†á\n\t\tif (categoryList.value[cateIndex.value]) {\n\t\t\thandleGenerateIcon(categoryList.value[cateIndex.value])\n\t\t} else {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'ËØ∑ÂÖàÈÄâÊã©‰∏Ä‰∏™ÂàÜÁ±ª',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t}\n\t}\n\n\t// Ê£ÄÊü•URLÊòØÂê¶ÊúâÊïàÂõæÁâáURL\n\tconst isValidImageUrl = (url) => {\n\t\t// Â¶ÇÊûúURL‰∏∫Á©∫Êàñ‰∏∫Á©∫Â≠óÁ¨¶‰∏≤Ôºå‰∏çÊòØÊúâÊïàURL\n\t\tif (!url || url.trim() === '') return false;\n\t\t\n\t\t// Ê£ÄÊü•ÊòØÂê¶ÊòØÈªòËÆ§ÂõæÁâá\n\t\tif (url.includes('defalut.png')) return false;\n\t\t\n\t\t// Ê£ÄÊü•ÊòØÂê¶ÊòØÊú¨Âú∞ÈùôÊÄÅËµÑÊ∫êË∑ØÂæÑÔºàÈùûÊúâÊïàÁöÑËøúÁ®ãURLÔºâ\n\t\tif (url.startsWith('/static/')) return false;\n\t\t\n\t\ttry {\n\t\t\t// Â∞ùËØïËß£ÊûêURLÔºåÊ£ÄÊü•ÊòØÂê¶ÊúâÊïà\n\t\t\tconst parsedUrl = new URL(url);\n\t\t\t// Ê£ÄÊü•ÊòØÂê¶ÊòØHTTP/HTTPSÂçèËÆÆ\n\t\t\treturn parsedUrl.protocol === 'http:' || parsedUrl.protocol === 'https:';\n\t\t} catch (e) {\n\t\t\t// Ëß£ÊûêÂ§±Ë¥•Ôºå‰∏çÊòØÊúâÊïàURL\n\t\t\treturn false;\n\t\t}\n\t}\n\n\t// Â§ÑÁêÜÊñáÊú¨Ê°ÜË°åÊï∞ÂèòÂåñ\n\tconst handleLineChange = (e) => {\n\t\t// Ëé∑ÂèñÂΩìÂâçË°åÊï∞\n\t\tconst lineCount = e.detail.lineCount || 0;\n\t\t\n\t\t// Ê†πÊçÆË°åÊï∞Âä®ÊÄÅË∞ÉÊï¥È´òÂ∫¶ÔºåÊúÄÂ∞èÈ´òÂ∫¶170rpx\n\t\tinputHeight.value = Math.max(170, lineCount * 40);\n\t\t\n\t\t// Á°Æ‰øùËßÜÂõæÊªöÂä®Âà∞ÂêàÈÄÇ‰ΩçÁΩÆÔºåÈò≤Ê≠¢ÈîÆÁõòÈÅÆÊå°ËæìÂÖ•ÂÜÖÂÆπ\n\t\tadjustScrollPosition();\n\t}\n\t\n\t// ÂêØÁî®ÂÖâÊ†áÊãñÂä®Ê®°Âºè\n\tconst enableCursorDrag = (e) => {\n\t\t// Á°Æ‰øùÊñáÊú¨Âå∫ÂüüËé∑ÂæóÁÑ¶ÁÇπ\n\t\ttextareaFocus.value = true\n\t\t\n\t\t// ËÆæÁΩÆ‰∏∫ÈÄâÊã©Ê®°Âºè\n\t\tisInSelectionMode.value = true\n\t\t\n\t\t// ÁÆÄÂçïÊèêÁ§∫Áî®Êà∑\n\t\tuni.showToast({\n\t\t\ttitle: 'ÈïøÊåâÈÄâÊã©ÊñáÊú¨ËøõË°åÁºñËæë',\n\t\t\ticon: 'none',\n\t\t\tduration: 1500\n\t\t})\n\t\t\n\t\t// ÈòªÊ≠¢ÈªòËÆ§Ë°å‰∏∫ÔºåÈò≤Ê≠¢ËôöÊãüÈîÆÁõòÂºπÂá∫\n\t\tsetTimeout(() => {\n\t\t\tuni.hideKeyboard && uni.hideKeyboard()\n\t\t}, 100)\n\t}\n\n\t// Êõ¥Êñ∞ÂõæÊ†áÈ¢ÑËßà\n\tconst updateIconPreview = async () => {\n\t\tif (!currentEditingCategory) return;\n\t\t\n\t\ttry {\n\t\t\tconst tempResult = await generateTempCategoryIcon(currentEditingCategory.cate_name);\n\t\t\tif (tempResult && tempResult.tempFilePath) {\n\t\t\t\tpreviewImageUrl.value = tempResult.tempFilePath;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('Êõ¥Êñ∞È¢ÑËßàÂ§±Ë¥•:', error);\n\t\t}\n\t}\n\t\n\t// ‰øùÂ≠òËá™ÂÆö‰πâÂõæÊ†á\n\tconst saveCustomIcon = async () => {\n\t\tif (!currentEditingCategory || !previewImageUrl.value) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: 'Ê≤°ÊúâÂèØ‰øùÂ≠òÁöÑÂõæÊ†á',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tuni.showLoading({\n\t\t\t\ttitle: '‰øùÂ≠ò‰∏≠...',\n\t\t\t\tmask: false\n\t\t\t});\n\t\t\t\n\t\t\t// ‰∏ä‰º†Âà∞‰∫ëÂ≠òÂÇ®\n\t\t\tconst uploadResult = await extStorageCo.getUploadFileOptions({\n\t\t\t\tcloudPath: `categories/${currentEditingCategory._id || Date.now()}.png`,\n\t\t\t\tfileType: 'image',\n\t\t\t\tisOriginal: true\n\t\t\t});\n\t\t\t\n\t\t\t// ÊâßË°å‰∏ä‰º†\n\t\t\tconst uploadRes = await uni.uploadFile({\n\t\t\t\t...uploadResult.uploadFileOptions,\n\t\t\t\tfilePath: previewImageUrl.value,\n\t\t\t\tname: 'file'\n\t\t\t});\n\t\t\t\n\t\t\tif (uploadRes.statusCode !== 200) {\n\t\t\t\tthrow new Error(`‰∏ä‰º†Â§±Ë¥•: ${uploadRes.statusCode}`);\n\t\t\t}\n\t\t\t\n\t\t\t// Ëé∑ÂèñÂõæÁâáURL\n\t\t\tconst iconURL = uploadResult.fileURL;\n\t\t\tconst thumbnailURL = uploadResult.thumbnailURL;\n\t\t\t\n\t\t\t// Êõ¥Êñ∞Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑÂàÜÁ±ªÂõæÊ†áURL\n\t\t\tif (currentEditingCategory._id) {\n\t\t\t\ttry {\n\t\t\t\t\t// Â∞ùËØïË∞ÉÁî®‰∫ëÂáΩÊï∞Êõ¥Êñ∞ÂõæÊ†á\n\t\t\t\t\tconst updateResult = await extStorageCo.updateCategoryIcon({\n\t\t\t\t\t\tcategoryId: currentEditingCategory._id, \n\t\t\t\t\t\ticonURL,\n\t\t\t\t\t\tthumbnailURL\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.warn('‰∫ëÂáΩÊï∞updateCategoryIconÂèØËÉΩÊú™ÈÉ®ÁΩ≤Êàñ‰∏çÂèØÁî®:', err);\n\t\t\t\t\t\treturn { updated: false, error: err.message };\n\t\t\t\t\t});\n\t\t\t\t\t\n\t\t\t\t\t// Â¶ÇÊûú‰∫ëÂáΩÊï∞Ë∞ÉÁî®ÊàêÂäü\n\t\t\t\t\tif (updateResult && updateResult.updated) {\n\t\t\t\t\t\tconsole.log('Êõ¥Êñ∞ÂàÜÁ±ªÂõæÊ†áÁªìÊûú:', updateResult);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Êõ¥Êñ∞Êú¨Âú∞ÂàÜÁ±ªÂõæÊ†á\n\t\t\t\t\t\tcurrentEditingCategory.icon = iconURL;\n\t\t\t\t\t\tcurrentEditingCategory.cate_img = iconURL;\n\t\t\t\t\t\tcurrentEditingCategory.cate_img_thumbnail = thumbnailURL;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ÂÖ≥Èó≠Ëá™ÂÆö‰πâÈù¢Êùø\n\t\t\t\t\t\ticonCustomizing.value = false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'ÂõæÊ†á‰øùÂ≠òÊàêÂäü',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// ‰∫ëÂáΩÊï∞Êú™ËÉΩÊ≠£Á°ÆÊâßË°åÔºå‰ΩÜÊàë‰ª¨‰ªçÁÑ∂Êõ¥Êñ∞Êú¨Âú∞ÂõæÊ†á\n\t\t\t\t\t\tconsole.warn('Êõ¥Êñ∞ÂàÜÁ±ªÂõæÊ†áÊú™ÊàêÂäüÔºå‰ΩÜÂõæÊ†áÂ∑≤ÁîüÊàê:', {iconURL, thumbnailURL});\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Êõ¥Êñ∞Êú¨Âú∞ÂàÜÁ±ªÂõæÊ†á\n\t\t\t\t\t\tcurrentEditingCategory.icon = iconURL;\n\t\t\t\t\t\tcurrentEditingCategory.cate_img = iconURL;\n\t\t\t\t\t\tcurrentEditingCategory.cate_img_thumbnail = thumbnailURL;\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ÂÖ≥Èó≠Ëá™ÂÆö‰πâÈù¢Êùø\n\t\t\t\t\t\ticonCustomizing.value = false;\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'ÂõæÊ†áÂ∑≤ÁîüÊàê',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t} catch (updateError) {\n\t\t\t\t\t// Êõ¥Êñ∞Êï∞ÊçÆÂ∫ìÂ§±Ë¥•Ôºå‰ΩÜÂõæÊ†áÂ∑≤‰∏ä‰º†ÊàêÂäü\n\t\t\t\t\tconsole.error('Êõ¥Êñ∞ÂàÜÁ±ªÂõæÊ†áÊï∞ÊçÆÂ∫ìËÆ∞ÂΩïÂ§±Ë¥•:', updateError);\n\t\t\t\t\t\n\t\t\t\t\t// Êõ¥Êñ∞Êú¨Âú∞ÂàÜÁ±ªÂõæÊ†á\n\t\t\t\t\tcurrentEditingCategory.icon = iconURL;\n\t\t\t\t\tcurrentEditingCategory.cate_img = iconURL;\n\t\t\t\t\tcurrentEditingCategory.cate_img_thumbnail = thumbnailURL;\n\t\t\t\t\t\n\t\t\t\t\t// ÂÖ≥Èó≠Ëá™ÂÆö‰πâÈù¢Êùø\n\t\t\t\t\ticonCustomizing.value = false;\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'ÂõæÊ†áÂ∑≤ÁîüÊàêÔºå‰ΩÜÊú™Êõ¥Êñ∞Êï∞ÊçÆÂ∫ì',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error('‰øùÂ≠òÂõæÊ†áÂ§±Ë¥•:', error);\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '‰øùÂ≠òÂõæÊ†áÂ§±Ë¥•',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t} finally {\n\t\t\tuni.hideLoading();\n\t\t}\n\t}\n\t\n\t// ÂèñÊ∂àËá™ÂÆö‰πâ\n\tconst cancelCustomize = () => {\n\t\ticonCustomizing.value = false;\n\t\tcurrentEditingCategory = null;\n\t\tpreviewImageUrl.value = '';\n\t}\n\n\t// Ë∞ÉÊï¥ÊªöÂä®‰ΩçÁΩÆ\n\tconst adjustScrollPosition = () => {\n\t\tnextTick(() => {\n\t\t\t// Âª∂ËøüÊâßË°å‰ª•Á°Æ‰øùÈîÆÁõòÂ∑≤ÊòæÁ§∫\n\t\t\tsetTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\t// Ëé∑ÂèñÁ™óÂè£È´òÂ∫¶\n\t\t\t\t\tconst windowHeight = uni.getWindowInfo().windowHeight\n\t\t\t\t\t\n\t\t\t\t\t// ËÆ°ÁÆóËæìÂÖ•Âå∫ÂüüÈ´òÂ∫¶\n\t\t\t\t\tconst textareaHeight = inputHeight.value || 170\n\t\t\t\t\t\n\t\t\t\t\t// Ê∑ªÂä†È¢ùÂ§ñÂÅèÁßª‰ª•Á°Æ‰øùÂÜÖÂÆπÂú®ÈîÆÁõò‰∏äÊñπÂèØËßÅ\n\t\t\t\t\t// ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÁöÑÈîÆÁõòÈ´òÂ∫¶Á∫¶‰∏∫Â±èÂπïÁöÑ40%\n\t\t\t\t\tconst keyboardHeight = windowHeight * 0.4\n\t\t\t\t\tconst extraOffset = 20 // È¢ùÂ§ñËæπË∑ù\n\t    \n\t\t\t\t\t// ËÆ°ÁÆóÊªöÂä®‰ΩçÁΩÆ\n\t\t\t\t\tconst scrollTop = textareaHeight + extraOffset + keyboardHeight / 2\n\t\t\t\t\t\n\t\t\t\t\t// ÊâßË°åÊªöÂä®\n\t\t\t\t\tuni.pageScrollTo({\n\t\t\t\t\t\tscrollTop: scrollTop,\n\t\t\t\t\t\tduration: 300\n\t\t\t\t\t})\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.log('Ë∞ÉÊï¥ÊªöÂä®‰ΩçÁΩÆÂ§±Ë¥•', err)\n\t\t\t\t}\n\t\t\t}, 300)\n\t\t})\n\t}\n\n\t// ÊèíÂÖ•ÊñáÊú¨Âà∞ÂÖâÊ†á‰ΩçÁΩÆ\n\tconst insertTextAtCursor = (textToInsert) => {\n\t\tif (!content.value) content.value = ''\n\t\t\n\t\t// ÊèíÂÖ•ÊñáÊú¨\n\t\tconst before = content.value.substring(0, selectionStart.value)\n\t\tconst after = content.value.substring(selectionEnd.value)\n\t\tcontent.value = before + textToInsert + after\n\t\t\n\t\t// Êõ¥Êñ∞ÂÖâÊ†á‰ΩçÁΩÆ - ÁßªÂä®Âà∞ÊèíÂÖ•ÁöÑÊñáÊú¨‰πãÂêé\n\t\tconst newPosition = selectionStart.value + textToInsert.length\n\t\t\n\t\t// Âª∂ËøüÊõ¥Êñ∞ÂÖâÊ†á‰ΩçÁΩÆÔºåÁ°Æ‰øùÂÜÖÂÆπÂ∑≤Êõ¥Êñ∞\n\t\tnextTick(() => {\n\t\t\tselectionStart.value = newPosition\n\t\t\tselectionEnd.value = newPosition\n\t\t\t\n\t\t\t// Á°Æ‰øùÊñáÊú¨Âå∫Âüü‰ªçÁÑ∂ÂÖ∑ÊúâÁÑ¶ÁÇπ\n\t\t\ttextareaFocus.value = true\n\t  \n\t\t\t// Ëß¶ÂèëËæìÂÖ•È´òÂ∫¶ÂèòÂåñÊ£ÄÊµã\n\t\t\thandleLineChange({ detail: { lineCount: content.value.split('\\n').length } })\n\t\t})\n\t}\n\t\n\t// Ê∑ªÂä†‰∏Ä‰∏™‰øùÂ≠òÂÖâÊ†á‰ΩçÁΩÆÁöÑÂ§ÑÁêÜÂáΩÊï∞\n\tconst handleSelectionChange = (e) => {\n\t\tif (e.detail) {\n\t\t\t// ËÆ∞ÂΩïÈÄâÂå∫‰ΩçÁΩÆ\n\t\t\tselectionStart.value = e.detail.selectionStart || 0\n\t\t\tselectionEnd.value = e.detail.selectionEnd || 0\n\t\t\t\n\t\t\t// Â¶ÇÊûúÊúâÈÄâ‰∏≠ÂÜÖÂÆπÔºåÊòæÁ§∫Â≠óÊï∞\n\t\t\tif (selectionStart.value !== selectionEnd.value) {\n\t\t\t\t// Â∑≤ÁªèÊòæÁ§∫Âú®ÁïåÈù¢‰∏≠\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// Â∫îÁî®Ëá™ÂÆö‰πâÈÄâÊã©Ê†∑Âºè - ‰æãÂ¶ÇÂú®ÈÄâÊã©ÁöÑÊñáÊú¨‰∏ãÊñπÊ∑ªÂä†ÁªÜÁ∫ø\n\tconst applyCustomSelectionStyle = () => {\n\t\t// ‰∏∫‰∫ÜÊõ¥Â•ΩÂú∞ÂÖºÂÆπÊÄßÔºåËøôÂè™ÊòØ‰∏Ä‰∏™Âç†‰ΩçÂáΩÊï∞\n\t\t// ÂÆûÈôÖÊ†∑ÂºèÈÄöËøáCSSÂíåclassÊéßÂà∂\n\t\t\n\t\t// Âú®ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÁéØÂ¢É‰∏≠ÔºåÂèØ‰ª•ËÄÉËôë‰ΩøÁî®Ë¶ÜÁõñÂ±ÇÊàñÂÖ∂‰ªñËßÜËßâÊåáÁ§∫\n\t\t\n\t\t// Ê≥®ÊÑèÔºöÊüê‰∫õÂπ≥Âè∞ÂèØËÉΩ‰∏çÊîØÊåÅÂ§çÊùÇÁöÑDOMÊìç‰ΩúÊàñCSSËá™ÂÆö‰πâ\n\t\t\n\t\t// Âú®ËøôÈáåÔºåÊàë‰ª¨‰∏ªË¶Å‰æùËµñ‰∫éCSSÂíåÁ±ªÊù•Ê∑ªÂä†ËßÜËßâÂå∫ÂàÜ\n\t\tconsole.log('Â∫îÁî®Ëá™ÂÆö‰πâÈÄâÊã©Ê†∑Âºè')\n\t}\n\n\t// ÊèíÂÖ•Â∏∏Áî®Áü≠ËØ≠\n\tconst insertCommonPhrase = (phrase) => {\n\t\tinsertTextAtCursor(phrase)\n\t\t// ÊèíÂÖ•ÂêéËá™Âä®ÂÖ≥Èó≠Â∑•ÂÖ∑Ê†è\n\t\tshowFormatToolbar.value = false\n\t}\n\n\t// Ê∏ÖÁ©∫ÂÖ®ÈÉ®ÂÜÖÂÆπ\n\tconst clearContent = () => {\n\t\tuni.showModal({\n\t\t\ttitle: 'ÊèêÁ§∫',\n\t\t\tcontent: 'Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÂÖ®ÈÉ®ÂÜÖÂÆπÂêóÔºü',\n\t\t\tsuccess: (res) => {\n\t\t\t\tif (res.confirm) {\n\t\t\t\t\tcontent.value = ''\n\t\t\t\t\t// ËÅöÁÑ¶Âà∞ËæìÂÖ•Ê°Ü\n\t\t\t\t\ttextareaFocus.value = true\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t// ÂàáÊç¢Ë°®ÊÉÖÈù¢ÊùøÊòæÁ§∫\n\tconst toggleEmojiPanel = () => {\n\t\tshowEmojiPanel.value = !showEmojiPanel.value\n\t\tif (showEmojiPanel.value) {\n\t\t\t// ÂÖ≥Èó≠Ê†ºÂºèÂ∑•ÂÖ∑Ê†è\n\t\t\tshowFormatToolbar.value = false\n\t\t}\n\t}\n\n\t// ÊèíÂÖ•Ë°®ÊÉÖÁ¨¶Âè∑\n\tconst insertEmoji = (emoji) => {\n\t\tinsertTextAtCursor(emoji)\n\t}\n\n\t// ÈÄâÊã©Ë°®ÊÉÖÂàÜÁªÑ\n\tconst selectEmojiGroup = (index) => {\n\t\tcurrentEmojiGroupIndex.value = index\n\t}\n\n\t// Â¢ûÂº∫ÊñáÊú¨ÈÄâÊã©ÁöÑÁÑ¶ÁÇπÂíåÈÄâÊã©ÊéßÂà∂\n\tconst enhanceTextareaSelection = (e) => {\n\t  try {\n\t    // Á°Æ‰øùÂÜÖÂÆπÂå∫ÂüüÂèØËßÅ\n\t    adjustScrollPosition()\n\t    \n\t    // Âà§Êñ≠ÊòØÂê¶ÈúÄË¶ÅÊòæÁ§∫ÈîÆÁõò\n\t    const shouldShowKeyboard = e && e.type === 'click'\n\t    \n\t    if (shouldShowKeyboard) {\n\t      textareaFocus.value = true\n\t    }\n\t    \n\t    // ËÆ∞ÂΩïÊñáÊú¨Âå∫Âüü‰ΩçÁΩÆÁî®‰∫éÂêéÁª≠Á≤æÁ°ÆÈÄâÊã©\n\t    if (e && (e.type === 'touchstart' || e.type === 'click')) {\n\t      // Âú®Â∞èÁ®ãÂ∫è‰∏≠Ëé∑ÂèñÂÖÉÁ¥†‰ø°ÊÅØ\n\t      uni.createSelectorQuery()\n\t        .select('.content-input')\n\t        .boundingClientRect(data => {\n\t          if (data) {\n\t            // ËÆ∞ÂΩïÊñáÊú¨Âå∫ÂüüÁöÑ‰ΩçÁΩÆÂíåÂ∞∫ÂØ∏‰ø°ÊÅØ\n\t            textAreaRect.value = {\n\t              left: data.left,\n\t              top: data.top,\n\t              width: data.width,\n\t              height: data.height\n\t            }\n\t          }\n\t        })\n\t        .exec()\n\t    }\n\t  } catch (err) {\n\t    console.log('Â¢ûÂº∫ÊñáÊú¨ÈÄâÊã©Â§±Ë¥•', err)\n\t  }\n\t}\n\n\t// Â∞ÜÈïøÊåâÂèòÊàêÁ≤æÁ°ÆÈÄâÊã©Ê®°Âºè\n\tconst enablePreciseSelection = (e) => {\n\t  // Èò≤Ê≠¢ÈªòËÆ§ÈïøÊåâËèúÂçï\n\t  e.preventDefault && e.preventDefault()\n\t  \n\t  // ÊòæÁ§∫Ëá™ÂÆö‰πâËèúÂçï\n\t  uni.showActionSheet({\n\t    itemList: ['ÂÖ®ÈÄâ', 'Â§çÂà∂', 'Á≤òË¥¥', 'Ê∏ÖÁ©∫'],\n\t    success: (res) => {\n\t      switch(res.tapIndex) {\n\t        case 0: // ÂÖ®ÈÄâ\n\t          // ÈÄâÊã©ÂÖ®ÈÉ®ÊñáÊú¨\n\t          selectionStart.value = 0\n\t          selectionEnd.value = content.value.length\n\t          \n\t          // Á°Æ‰øùÊñáÊú¨Âå∫ÂüüËé∑ÂæóÁÑ¶ÁÇπ\n\t          textareaFocus.value = true\n\t          \n\t          uni.showToast({\n\t            title: 'Â∑≤ÂÖ®ÈÄâ',\n\t            icon: 'none',\n\t            duration: 1000\n\t          })\n\t          break\n\t          \n\t        case 1: // Â§çÂà∂\n\t          if (selectionStart.value !== selectionEnd.value) {\n\t            // Â§çÂà∂ÈÄâ‰∏≠ÂÜÖÂÆπÂà∞Ââ™Ë¥¥Êùø\n\t            const selectedText = content.value.substring(selectionStart.value, selectionEnd.value)\n\t            uni.setClipboardData({\n\t              data: selectedText,\n\t              success: () => {\n\t                uni.showToast({\n\t                  title: 'Â∑≤Â§çÂà∂',\n\t                  icon: 'success',\n\t                  duration: 1000\n\t                })\n\t              }\n\t            })\n\t          } else if (content.value) {\n\t            // ÂÖ®ÈÉ®Â§çÂà∂\n\t            uni.setClipboardData({\n\t              data: content.value,\n\t              success: () => {\n\t                uni.showToast({\n\t                  title: 'Â∑≤Â§çÂà∂ÂÖ®ÈÉ®ÂÜÖÂÆπ',\n\t                  icon: 'success',\n\t                  duration: 1000\n\t                })\n\t              }\n\t            })\n\t          } else {\n\t            uni.showToast({\n\t              title: 'Êó†ÂÜÖÂÆπÂèØÂ§çÂà∂',\n\t              icon: 'none',\n\t              duration: 1000\n\t            })\n\t          }\n\t          break\n\t          \n\t        case 2: // Á≤òË¥¥\n\t          // ‰ªéÂâ™Ë¥¥ÊùøËé∑ÂèñÂÜÖÂÆπÂπ∂Á≤òË¥¥\n\t          uni.getClipboardData({\n\t            success: (res) => {\n\t              if (res.data) {\n\t                // Âú®ÂΩìÂâçÂÖâÊ†á‰ΩçÁΩÆÊèíÂÖ•Ââ™Ë¥¥ÊùøÂÜÖÂÆπ\n\t                insertTextAtCursor(res.data)\n\t                \n\t                uni.showToast({\n\t                  title: 'Â∑≤Á≤òË¥¥',\n\t                  icon: 'success',\n\t                  duration: 1000\n\t                })\n\t              } else {\n\t                uni.showToast({\n\t                  title: 'Ââ™Ë¥¥Êùø‰∏∫Á©∫',\n\t                  icon: 'none',\n\t                  duration: 1000\n\t                })\n\t              }\n\t            }\n\t          })\n\t          break\n\t          \n\t        case 3: // Ê∏ÖÁ©∫\n\t          // Ê∏ÖÁ©∫Á°ÆËÆ§\n\t          uni.showModal({\n\t            title: 'ÊèêÁ§∫',\n\t            content: 'Á°ÆÂÆöË¶ÅÊ∏ÖÁ©∫ÂÖ®ÈÉ®ÂÜÖÂÆπÂêóÔºü',\n\t            success: (res) => {\n\t              if (res.confirm) {\n\t                content.value = ''\n\t                \n\t                // ÈáçÊñ∞Ëé∑ÂèñÁÑ¶ÁÇπ\n\t                setTimeout(() => {\n\t                  textareaFocus.value = true\n\t                }, 100)\n\t              }\n\t            }\n\t          })\n\t          break\n\t      }\n\t    }\n\t  })\n\t}\n\n\t// ÈÄÄÂá∫ÈÄâÊã©Ê®°Âºè\n\tconst exitSelectionMode = () => {\n\t  // Ê∏ÖÈô§ÈÄâÊã©Ê®°ÂºèÊ†áÂøó\n\t  isInSelectionMode.value = false\n\t  \n\t  // ÈÄöÁü•Áî®Êà∑\n\t  uni.showToast({\n\t    title: 'ÈÄâÊã©Â∑≤ÂÆåÊàê',\n\t    icon: 'none',\n\t    duration: 1500\n\t  })\n\t}\n\n\t// Ê†πÊçÆÁÇπÂáª‰ΩçÁΩÆËÆ°ÁÆóÂÖâÊ†á‰ΩçÁΩÆ\n\tconst getCursorPositionFromPoint = (x, y, text) => {\n\t  // uni-appÁéØÂ¢É‰∏≠ÂèØËÉΩÊ≤°ÊúâÁõ¥Êé•ËÆøÈóÆdocumentÂØπË±°\n\t  // ÂàõÂª∫‰∏¥Êó∂ÂÖÉÁ¥†Êù•‰º∞ÁÆóÂÖâÊ†á‰ΩçÁΩÆ\n\t  try {\n\t    // ÈÄöËøáselectQueryËé∑ÂèñtextareaÂÖÉÁ¥†\n\t    uni.createSelectorQuery()\n\t      .select('.content-input')\n\t      .node(res => {\n\t        if (!res || !res.node) return 0\n\t        \n\t        // Ëé∑ÂèñÂÆπÂô®ËäÇÁÇπ‰Ωú‰∏∫ÂèÇËÄÉ\n\t        const textNode = res.node\n\t        \n\t        // ÂàõÂª∫‰∏¥Êó∂ÊñáÊú¨ËÆ°ÁÆóÂ∑•ÂÖ∑\n\t        const getPositionFromText = (text, relX, relY) => {\n\t          // ÊñáÊú¨‰∏çÂ≠òÂú®ÂàôËøîÂõû0\n\t          if (!text) return 0\n\t          \n\t          // ‰ΩøÁî®Â≠óÁ¨¶Âπ≥ÂùáÂÆΩÂ∫¶ËøõË°å‰º∞ÁÆó\n\t          const avgCharWidth = 14 // ÂÅáËÆæÁöÑÂπ≥ÂùáÂ≠óÁ¨¶ÂÆΩÂ∫¶Ôºå28rpxÁ∫¶Á≠â‰∫é14px\n\t          const lineHeight = 21 // 1.5Ë°åÈ´ò * 14px\n\t          \n\t          // ËÆ°ÁÆóÁÇπÂáª‰ΩçÁΩÆÂ§ßËá¥ÂØπÂ∫îÁöÑÂ≠óÁ¨¶Á¥¢Âºï\n\t          const approxLine = Math.floor(relY / lineHeight)\n\t          const lineWidth = textNode.offsetWidth || 300 // ÂÅáËÆæÂÆΩÂ∫¶\n\t          const charsPerLine = Math.floor(lineWidth / avgCharWidth)\n\t          \n\t          // Âü∫‰∫éË°åÊï∞ÂíåÁõ∏ÂØπX‰ΩçÁΩÆËÆ°ÁÆóÁ¥¢Âºï\n\t          let approxIndex = (approxLine * charsPerLine) + Math.floor(relX / avgCharWidth)\n\t          \n\t          // Á°Æ‰øùÁ¥¢ÂºïÂú®ÊúâÊïàËåÉÂõ¥ÂÜÖ\n\t          approxIndex = Math.max(0, Math.min(approxIndex, text.length))\n\t          \n\t          // Â∞ùËØïÊâæÂà∞ÊúÄÊé•ËøëÁöÑÂ≠óÁ¨¶ËæπÁïå\n\t          // ÁâπÂà´ÊòØÂØπ‰∫éCJKÊñáÂ≠óÔºåÂèØËÉΩÈúÄË¶ÅÊõ¥Â§çÊùÇÁöÑÈÄªËæë\n\t          return approxIndex\n\t        }\n\t        \n\t        // Ëé∑ÂèñÁõ∏ÂØπ‰∫éÊñáÊú¨Âå∫ÁöÑÂùêÊ†á\n\t        uni.createSelectorQuery()\n\t          .select('.content-input')\n\t          .boundingClientRect(data => {\n\t            if (data) {\n\t              const relX = x - data.left\n\t              const relY = y - data.top\n\t              \n\t              // ËÆ°ÁÆó‰º∞ÁÆó‰ΩçÁΩÆ\n\t              const position = getPositionFromText(text, relX, relY)\n\t              \n\t              // ËÆæÁΩÆÈÄâ‰∏≠‰ΩçÁΩÆ\n\t              selectionStart.value = position\n\t              selectionEnd.value = position\n\t              \n\t              // Áõ¥Êé•Â∫îÁî®Âà∞ÊñáÊú¨Âå∫\n\t              if (textNode.setSelectionRange) {\n\t                textNode.setSelectionRange(position, position)\n\t                // ‰øùÂ≠òÂºïÁî®\n\t                textareaElement.value = textNode\n\t              }\n\t            }\n\t          })\n\t          .exec()\n\t      })\n\t      .exec()\n\t    \n\t    // Â¶ÇÊûúÊ≤°Ê≥ïËé∑ÂèñÂà∞Ê≠£Á°Æ‰ΩçÁΩÆÔºåËøîÂõû‰∏Ä‰∏™‰º∞ËÆ°ÂÄº\n\t    return Math.min(text.length, Math.max(0, selectionStart.value))\n\t  } catch (e) {\n\t    console.error('ÂÖâÊ†á‰ΩçÁΩÆËÆ°ÁÆóÂ§±Ë¥•:', e)\n\t    return 0 // Â§±Ë¥•Êó∂ËøîÂõûÂºÄÂßã‰ΩçÁΩÆ\n\t  }\n\t}\n\n\t// ÊâìÂºÄÊñáÊú¨Á≤æÁ°ÆÈÄâÊã©Ê®°Âºè\n\tconst openPreciseTextSelection = () => {\n\t  try {\n\t    // ‰ΩøÁî®ÂæÆ‰ø°Â∞èÁ®ãÂ∫è/uniÊèê‰æõÁöÑÂèØËÉΩAPI\n\t    uni.showActionSheet({\n\t      itemList: ['Á≤æÁ°ÆÈÄâÊã©ÊñáÊú¨'],\n\t      success: () => {\n\t        // ÂêØÁî®Á≤æÁ°ÆÈÄâÊã©Ê®°Âºè\n\t        uni.showToast({\n\t          title: 'Â∑≤ÂêØÁî®Á≤æÁ°ÆÈÄâÊã©',\n\t          icon: 'none',\n\t          duration: 1500\n\t        })\n\t        \n\t        // ËÆæÁΩÆÁ≥ªÁªüÈÄâÊã©Ê®°Âºè‰∏∫ÂèØÈÄâÊã©\n\t        setTimeout(() => {\n\t          textareaFocus.value = true\n\t          \n\t          // ‰ΩøÁî®Êõ¥‰∏ì‰∏öÁöÑÊñπÊ≥ïËÆæÁΩÆÂÖâÊ†áÂèØÈÄâÊã©Ê®°Âºè\n\t          if (typeof plus !== 'undefined' && plus.webview) {\n\t            const currentWebview = plus.webview.currentWebview()\n\t            if (currentWebview.setStyle) {\n\t              currentWebview.setStyle({\n\t                softinputMode: 'adjustResize', // Á°Æ‰øùËΩØÈîÆÁõò‰∏çÈÅÆÊå°\n\t                userSelect: 'text' // ÂÖÅËÆ∏Áî®Êà∑ÈÄâÊã©ÊñáÊú¨\n\t              })\n\t            }\n\t          }\n\t        }, 100)\n\t      }\n\t    })\n\t  } catch (e) {\n\t    console.error('Êó†Ê≥ïÂêØÁî®Á≤æÁ°ÆÊñáÊú¨ÈÄâÊã©:', e)\n\t    // ÂõûÈÄÄÂà∞Âü∫Êú¨ÈÄâÊã©ÊñπÂºè\n\t    textareaFocus.value = true\n\t  }\n\t}\n\n\t// ËÆ∞ÂΩïÊñáÊú¨Âå∫Âüü‰ΩçÁΩÆÁöÑÂìçÂ∫îÂºèÂèòÈáè\n\tconst textAreaRect = ref({ left: 0, top: 0, width: 0, height: 0 })\n</script>\n\n<template>\n\t<view class=\"add\">\n\t\t<!-- ÂàÜÁ±ªÈÄâÊã© -->\n\t\t<view class=\"category\">\n\t\t\t<text class=\"label\">ÊâÄÂ±ûÂàÜÁ±ª</text>\n\t\t\t\n\t\t\t<picker @change=\"bindPickerChange\" :range=\"categoryList\" :value=\"cateIndex\"\n\t\t\t\trange-key=\"cate_name\" v-if=\"false\">\n\t\t\t\t<view class=\"picker\">\n\t\t\t\t\t<text>\n\t\t\t\t\t\t{{categoryList[cateIndex]?.cate_name}}\n\t\t\t\t\t</text>\n\t\t\t\t\t<uni-icons type=\"bottom\" size=\"14\" color=\"#999999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</picker>\n\t\t\t\n\t\t\t<!-- Ê∑ªÂä†ÁΩëÊ†ºÂ∏ÉÂ±ÄÁöÑÂàÜÁ±ªÈÄâÊã© -->\n\t\t\t<view class=\"category-grid\">\n\t\t\t\t<!-- ÁîüÊàêÂõæÊ†áÊåâÈíÆÔºå‰ªÖÂú®ÂΩìÂâçÈÄâÊã©ÁöÑÂàÜÁ±ªÊ≤°ÊúâÁº©Áï•ÂõæÊó∂ÊòæÁ§∫ -->\n\t\t\t\t<view \n\t\t\t\t\tv-if=\"categoryList.length > 0 && categoryList[cateIndex] && !categoryList[cateIndex].cate_img_thumbnail\" \n\t\t\t\t\tclass=\"category-item generate-icon-item\" \n\t\t\t\t\t@click=\"createNewCategoryIcon\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"category-icon\">\n\t\t\t\t\t\t<uni-icons type=\"plus\" size=\"30\" color=\"#2196F3\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"category-name-container\">\n\t\t\t\t\t\t<text class=\"category-name\">ÁîüÊàêÂõæÊ†á</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(item, index) in categoryList\" \n\t\t\t\t\t:key=\"index\" \n\t\t\t\t\tclass=\"category-item\" \n\t\t\t\t\t:class=\"{ 'active': index === cateIndex, 'location-based': item.is_location_based }\"\n\t\t\t\t\t@click=\"selectCategory(index)\"\n\t\t\t\t>\n\t\t\t\t\t<view class=\"category-icon\">\n\t\t\t\t\t\t<!-- ‰ΩøÁî®ÂàÜÁ±ªÂõæÊ†á -->\n\t\t\t\t\t\t<image :src=\"item.icon\" mode=\"aspectFit\" class=\"category-image\"></image>\n\t\t\t\t\t\t<!-- ÈÄâ‰∏≠Áä∂ÊÄÅÊåáÁ§∫Âô® -->\n\t\t\t\t\t\t<view class=\"selected-indicator\" v-if=\"index === cateIndex\">\n\t\t\t\t\t\t\t<uni-icons type=\"checkmarkempty\" size=\"16\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"category-name-container\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t<!-- ‰øÆÊîπ‰ΩçÁΩÆÊ†áËÆ∞ÔºåÁßªÈô§ÂõæÊ†áÂè™ÊòæÁ§∫ÊñáÊú¨ -->\n\t\t\t\t\t\t<view class=\"location-badge\" v-if=\"item.is_location_based\">\n\t\t\t\t\t\t\t<!-- ÁßªÈô§ÂõæÊ†á -->\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<text class=\"category-name\">{{ item.cate_name }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- Ê∑ªÂä†ÈáçËØïÊåâÈíÆ -->\n\t\t\t<view v-if=\"categoryList.length === 0 || categoryList[0]._id === 'default'\" \n\t\t\t\t  class=\"retry-btn\" @click=\"retryGetCategories\">\n\t\t\t\t<uni-icons type=\"refresh\" size=\"16\" color=\"#ff6600\"></uni-icons>\n\t\t\t\t<text class=\"retry-text\">ÈáçËØï</text>\n\t\t\t</view>\n\t\t\t\n\t\t</view>\n\n\t\t<!-- ‰ºòÂåñÊñáÊú¨ËæìÂÖ•Âå∫Âüü -->\n\t\t<view class=\"content-wrapper\">\n\t\t\t<view class=\"content-area\" :style=\"{ minHeight: inputHeight + 'rpx' }\">\n\t\t\t\t\n\t\t\t\t<textarea \n\t\t\t\t\tv-model=\"content\" \n\t\t\t\t\tplaceholder=\"ÂàÜ‰∫´Êñ∞È≤ú‰∫ã...\" \n\t\t\t\t\tclass=\"content-input\"\n\t\t\t\t\tmaxlength=\"2000\"\n\t\t\t\t\tauto-height\n\t\t\t\t\t:adjust-position=\"true\"\n\t\t\t\t\tshow-confirm-bar=\"false\"\n\t\t\t\t\tconfirm-type=\"done\"\n\t\t\t\t\tcursor-spacing=\"120\"\n\t\t\t\t\t:focus=\"textareaFocus\"\n\t\t\t\t\tref=\"contentTextarea\"\n\t\t\t\t\t@blur=\"textareaFocus = false\"\n\t\t\t\t\t:disable-default-padding=\"true\"\n\t\t\t\t\t:hold-keyboard=\"false\"\n\t\t\t\t\t:selection-start=\"selectionStart\"\n\t\t\t\t\t:selection-end=\"selectionEnd\"\n\t\t\t\t\t@confirm=\"() => {}\"\n\t\t\t\t\t@linechange=\"handleLineChange\"\n\t\t\t\t\t@input=\"handleLineChange\"\n\t\t\t\t\t@selectionchange=\"handleSelectionChange\"\n\t\t\t\t\t@longpress=\"enablePreciseSelection\"\n\t\t\t\t\t@touchstart=\"enhanceTextareaSelection\"\n\t\t\t\t\t@click=\"enhanceTextareaSelection\"\n\t\t\t\t\t@focus=\"enhanceTextareaSelection\"\n\t\t\t\t/>\n\t\t\t\t\n\t\t\t\t<!-- Â∫ïÈÉ®Â≠óÊï∞ÁªüËÆ°ÂíåÂäüËÉΩÊåâÈíÆ -->\n\t\t\t\t<view class=\"content-footer\">\n\t\t\t\t\t<text class=\"word-count\">{{ content.length }}/2000</text>\n\t\t\t\t\t\n\t\t\t\t\t<!-- ÊñáÊú¨Êìç‰ΩúÂ∑•ÂÖ∑Ê†è -->\n\t\t\t\t\t<view class=\"text-toolbar\">\n\t\t\t\t\t\t<view class=\"toolbar-btn\" @click=\"enablePreciseSelection\">\n\t\t\t\t\t\t\t<uni-icons type=\"more-filled\" size=\"16\" color=\"#666\"></uni-icons>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- ‰øÆÊîπÂ™í‰Ωì‰∏ä‰º†Âå∫Âüü -->\n\t\t<view class=\"media-section\">\n\t\t\t<!-- ÂõæÁâá‰∏ä‰º†Âå∫Âüü -->\n\t\t\t<view class=\"images\">\n\t\t\t\t\n\t\t\t\t<view class=\"image-list\">\n\t\t\t\t\t<view v-for=\"(image, index) in imageList\" :key=\"index\" class=\"image-item\">\n\t\t\t\t\t\t<image :src=\"image.thumbnailURL\" mode=\"aspectFill\" />\n\t\t\t\t\t\t<view class=\"delete-btn\" @click=\"deleteImage(index)\">\n\t\t\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"progress-overlay\" v-if=\"image.progress < 100\">\n\t\t\t\t\t\t\t<view class=\"progress-text\">{{image.progress.toFixed(0)}}%</view>\n\t\t\t\t\t\t\t<view class=\"progress-bar\">\n\t\t\t\t\t\t\t\t<view class=\"progress\" :style=\"{width: image.progress + '%'}\"></view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"upload-btn\" @click=\"chooseAndUploadImage\">\n\t\t\t\t\t\t<uni-icons type=\"plusempty\" size=\"30\" color=\"#999\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"tip\">ÂèØÊó†Èôê‰∏ä‰º†ÂõæÁâá</text>\n\t\t\t</view>\n\n\t\t\t<!-- ËßÜÈ¢ëÈìæÊé•Âå∫Âüü -->\n\t\t\t<view class=\"video\">\n\t\t\t\t<view v-if=\"videoInfo\" class=\"video-link-preview\">\n\t\t\t\t\t<view class=\"link-container\">\n\t\t\t\t\t\t<text class=\"link-text\">{{videoInfo}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"delete-btn\" @click=\"deleteVideo\">\n\t\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#fff\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view v-else class=\"video-link-input\">\n\t\t\t\t\t<view class=\"input-container\">\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tv-model=\"videoLink\" \n\t\t\t\t\t\t\ttype=\"text\" \n\t\t\t\t\t\t\tplaceholder=\"ËæìÂÖ•ËßÜÈ¢ëÈìæÊé•ÂêéËá™Âä®‰øùÂ≠ò\" \n\t\t\t\t\t\t\tclass=\"link-input\"\n\t\t\t\t\t\t\tconfirm-type=\"done\"\n\t\t\t\t\t\t\tmaxlength=\"5000\"\n\t\t\t\t\t\t\t@input=\"handleVideoLinkInput\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"tip\">ËæìÂÖ•.mp4Ê†ºÂºèÁöÑÈìæÊé•ÔºåÂú®ËØ¶ÊÉÖÈ°µÊòæÁ§∫ËßÜÈ¢ë</text>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- ÂèëÂ∏ÉÊåâÈíÆ -->\n\t\t<view class=\"publish\">\n\t\t\t<button class=\"publish-btn\" @click=\"submitForm\">{{isEditMode ? 'Êõ¥Êñ∞' : 'ÂèëÂ∏É'}}</button>\n\t\t</view>\n\n\t\t<!-- ÂõæÊ†áËá™ÂÆö‰πâÈù¢Êùø -->\n\t\t<view class=\"icon-customize-overlay\" v-if=\"iconCustomizing\">\n\t\t\t<view class=\"icon-customize-panel\">\n\t\t\t\t<view class=\"icon-customize-header\">\n\t\t\t\t\t<text class=\"panel-title\">Ë∞ÉÊï¥ÂõæÊ†á</text>\n\t\t\t\t\t<view class=\"close-btn\" @click=\"cancelCustomize\">\n\t\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#666\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"icon-preview\">\n\t\t\t\t\t<image :src=\"previewImageUrl\" mode=\"aspectFit\" class=\"preview-image\"></image>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"customize-controls\">\n\t\t\t\t\t<!-- ÊñáÂ≠óXËΩ¥‰ΩçÁΩÆË∞ÉÊï¥ -->\n\t\t\t\t\t<view class=\"control-item\">\n\t\t\t\t\t\t<text class=\"control-label\">Ê∞¥Âπ≥‰ΩçÁΩÆ</text>\n\t\t\t\t\t\t<slider \n\t\t\t\t\t\t\t:value=\"textOffsetX + 50\" \n\t\t\t\t\t\t\tmin=\"0\" \n\t\t\t\t\t\t\tmax=\"100\" \n\t\t\t\t\t\t\tshow-value \n\t\t\t\t\t\t\t@change=\"(e) => { textOffsetX = e.detail.value - 50; updateIconPreview(); }\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- ÊñáÂ≠óYËΩ¥‰ΩçÁΩÆË∞ÉÊï¥ -->\n\t\t\t\t\t<view class=\"control-item\">\n\t\t\t\t\t\t<text class=\"control-label\">ÂûÇÁõ¥‰ΩçÁΩÆ</text>\n\t\t\t\t\t\t<slider \n\t\t\t\t\t\t\t:value=\"textOffsetY + 50\" \n\t\t\t\t\t\t\tmin=\"0\" \n\t\t\t\t\t\t\tmax=\"100\" \n\t\t\t\t\t\t\tshow-value \n\t\t\t\t\t\t\t@change=\"(e) => { textOffsetY = e.detail.value - 50; updateIconPreview(); }\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- ÊñáÂ≠óÂ§ßÂ∞èË∞ÉÊï¥ -->\n\t\t\t\t\t<view class=\"control-item\">\n\t\t\t\t\t\t<text class=\"control-label\">ÊñáÂ≠óÂ§ßÂ∞è</text>\n\t\t\t\t\t\t<slider \n\t\t\t\t\t\t\t:value=\"textSize\" \n\t\t\t\t\t\t\tmin=\"50\" \n\t\t\t\t\t\t\tmax=\"150\" \n\t\t\t\t\t\t\tshow-value \n\t\t\t\t\t\t\t@change=\"(e) => { textSize = e.detail.value; updateIconPreview(); }\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"customize-buttons\">\n\t\t\t\t\t<button class=\"cancel-btn\" @click=\"cancelCustomize\">ÂèñÊ∂à</button>\n\t\t\t\t\t<button class=\"save-btn\" @click=\"saveCustomIcon\">‰øùÂ≠ò</button>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- Ë°®ÊÉÖÁ¨¶Âè∑Èù¢Êùø -->\n\t\t<view class=\"emoji-panel\" v-if=\"showEmojiPanel\">\n\t\t\t<view class=\"emoji-header\">\n\t\t\t\t<text class=\"emoji-title\">ÊèíÂÖ•Ë°®ÊÉÖ</text>\n\t\t\t\t<view class=\"emoji-close\" @click=\"showEmojiPanel = false\">\n\t\t\t\t\t<uni-icons type=\"close\" size=\"20\" color=\"#666\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"emoji-tabs\">\n\t\t\t\t<view \n\t\t\t\t\tv-for=\"(group, index) in emojiGroups\" \n\t\t\t\t\t:key=\"index\" \n\t\t\t\t\tclass=\"emoji-tab\" \n\t\t\t\t\t:class=\"{'active': currentEmojiGroupIndex === index}\"\n\t\t\t\t\t@click=\"selectEmojiGroup(index)\"\n\t\t\t\t>\n\t\t\t\t\t{{ group.name }}\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view class=\"emoji-content\">\n\t\t\t\t<view class=\"emoji-list\">\n\t\t\t\t\t<view \n\t\t\t\t\t\tv-for=\"emoji in emojiGroups[currentEmojiGroupIndex].emojis\" \n\t\t\t\t\t\t:key=\"emoji\" \n\t\t\t\t\t\tclass=\"emoji-item\"\n\t\t\t\t\t\t@click.stop=\"insertEmoji(emoji)\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ emoji }}\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<style lang=\"scss\" scoped>\n\t.add {\n\t\tmin-height: 100vh;\n\t\tpadding: 20rpx 30rpx;\n\t\tbackground-color: #fff;\n\n\t\t.category {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\n\t\t\t.label {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: $pyq-text-color-body;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t}\n\n\t\t\t.picker {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 16rpx 24rpx;\n\t\t\t\tbackground-color: #f7f7f7;\n\t\t\t\tborder-radius: 3rpx;\n\t\t\t}\n\t\t\t\n\t\t\t/* ÂàÜÁ±ªÁΩëÊ†ºÂ∏ÉÂ±ÄÊ†∑Âºè */\n\t\t\t.category-grid {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tmargin: 0 -10rpx;\n\t\t\t\tpadding: 10rpx 0;\n\t\t\t}\n\t\t\t\n\t\t\t.category-item {\n\t\t\t\twidth: 20%; /* ÊØèË°å5‰∏™ */\n\t\t\t\tpadding: 10rpx;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t\n\t\t\t\t.category-icon {\n\t\t\t\t\twidth: 100rpx;\n\t\t\t\t\theight: 100rpx;\n\t\t\t\t\tbackground-color: #f8f8f8;\n\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\tborder: 2rpx solid transparent;\n\t\t\t\t\ttransition: all 0.3s;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\t\t\t\t\n\t\t\t\t\t.category-image {\n\t\t\t\t\t\twidth: 70%;\n\t\t\t\t\t\theight: 70%;\n\t\t\t\t\t\tobject-fit: contain;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.selected-indicator {\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\tbottom: 0;\n\t\t\t\t\t\tbackground-color: $pyq-vi-color;\n\t\t\t\t\t\twidth: 36rpx;\n\t\t\t\t\t\theight: 36rpx;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\tborder-top-left-radius: 12rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.category-name-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\tgap: 4rpx;\n\t\t\t\t\t\n\t\t\t\t\t.category-name {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\ttext-align: center;\n\t\t\t\t\t\tline-height: 1.2;\n\t\t\t\t\t\theight: 2.4em;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.location-badge {\n\t\t\t\t\t\tmargin-left: 4rpx;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.uni-icons {\n\t\t\t\t\t\t\twidth: 16rpx;\n\t\t\t\t\t\t\theight: 16rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.active {\n\t\t\t\t\t.category-icon {\n\t\t\t\t\t\tbackground-color: rgba(255, 102, 0, 0.08);\n\t\t\t\t\t\tborder-color: $pyq-vi-color;\n\t\t\t\t\t\tbox-shadow: 0 6rpx 16rpx rgba(255, 102, 0, 0.25);\n\t\t\t\t\t\ttransform: translateY(-4rpx);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.category-name {\n\t\t\t\t\t\tcolor: $pyq-vi-color;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.location-based {\n\t\t\t\t\t.category-icon {\n\t\t\t\t\t\tbackground-color: rgba(33, 150, 243, 0.05);\n\t\t\t\t\t\tborder: 2rpx dashed #2196F3;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.category-name {\n\t\t\t\t\t\tcolor: #2196F3;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t&.active {\n\t\t\t\t\t\t.category-icon {\n\t\t\t\t\t\t\tbackground-color: rgba(33, 150, 243, 0.1);\n\t\t\t\t\t\t\tborder: 2rpx solid #2196F3;\n\t\t\t\t\t\t\tbox-shadow: 0 6rpx 16rpx rgba(33, 150, 243, 0.25);\n\t\t\t\t\t\t\ttransform: translateY(-4rpx);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t.category-name {\n\t\t\t\t\t\t\tcolor: #2196F3;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&.generate-icon-item {\n\t\t\t\t\t.category-icon {\n\t\t\t\t\t\tbackground-color: rgba(33, 150, 243, 0.05);\n\t\t\t\t\t\tborder: 2rpx dashed #2196F3;\n\t\t\t\t\t\t\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\tbackground-color: rgba(33, 150, 243, 0.2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.category-name {\n\t\t\t\t\t\tcolor: #2196F3;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\topacity: 0.7;\n\t\t\t\t\t\ttransform: scale(0.95);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t.content-wrapper {\n\t\t\tposition: relative;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\n\t\t.format-toolbar {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 12rpx;\n\t\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.1);\n\t\t\tpadding: 20rpx;\n\t\t\tz-index: 100;\n\t\t\ttransform: translateY(-10rpx);\n\t\t\topacity: 0;\n\t\t\tpointer-events: none;\n\t\t\ttransition: all 0.3s ease;\n\t\t\t\n\t\t\t&.format-toolbar-visible {\n\t\t\t\topacity: 1;\n\t\t\t\ttransform: translateY(0);\n\t\t\t\tpointer-events: auto;\n\t\t\t}\n\t\t\t\n\t\t\t.toolbar-section {\n\t\t\t\tpadding-bottom: 20rpx;\n\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\t\t\n\t\t\t\t&:last-child {\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t\tpadding-bottom: 0;\n\t\t\t\t\tborder-bottom: none;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.toolbar-title {\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: #999;\n\t\t\t\tmargin-bottom: 12rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.format-actions {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 20rpx;\n\t\t\t\t\n\t\t\t\t.format-btn {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-direction: column;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.format-icon {\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\tmargin-bottom: 4rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.format-label {\n\t\t\t\t\t\tfont-size: 22rpx;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.phrase-list {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tgap: 16rpx;\n\t\t\t\t\n\t\t\t\t.phrase-item {\n\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\tborder-radius: 30rpx;\n\t\t\t\t\tpadding: 8rpx 20rpx;\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.clear-btn {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbackground-color: rgba(255, 59, 48, 0.1);\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\tpadding: 12rpx;\n\t\t\t\t\n\t\t\t\ttext {\n\t\t\t\t\tcolor: #ff3b30;\n\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\tmargin-left: 8rpx;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\tbackground-color: rgba(255, 59, 48, 0.2);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.toolbar-close {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 12rpx;\n\t\t\t\tright: 12rpx;\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\tbackground-color: #f0f0f0;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.action-btns {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 20rpx;\n\t\t\t\t\n\t\t\t\t.action-btn {\n\t\t\t\t\tflex: 1;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tpadding: 16rpx;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\t\n\t\t\t\t\ttext {\n\t\t\t\t\t\tmargin-left: 8rpx;\n\t\t\t\t\t\tfont-size: 26rpx;\n\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t&.primary {\n\t\t\t\t\t\tbackground-color: $pyq-vi-color;\n\t\t\t\t\t\t\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\topacity: 0.8;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t&.danger {\n\t\t\t\t\t\tbackground-color: #ff3b30;\n\t\t\t\t\t\t\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\topacity: 0.8;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t.content-area {\n\t\t\tposition: relative;\n\t\t\tborder: 1px solid #e0e0e0;\n\t\t\tborder-radius: 12rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tmin-height: 170rpx;\n\t\t\tpadding: 0;\n\t\t\tbox-sizing: border-box;\n\t\t\toverflow: hidden;\n\t\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n\t\t\t\n\t\t\t.content-input {\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-height: 120rpx;\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tline-height: 1.5;\n\t\t\t\tcolor: #333;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\tbackground-color: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\tword-break: break-word;\n\t\t\t\twhite-space: pre-wrap;\n\t\t\t\toverflow-wrap: break-word;\n\t\t\t\ttext-align: left;\n\t\t\t\t/* ÊèêÈ´òÊñáÊú¨ÈÄâÊã©Á≤æÁ°ÆÂ∫¶ÁöÑÊ†∑Âºè */\n\t\t\t\tuser-select: text;\n\t\t\t\tcaret-color: $pyq-vi-color; /* ËÆæÁΩÆÂÖâÊ†áÈ¢úËâ≤ */\n\t\t\t\tletter-spacing: 0.5px; /* Â¢ûÂä†Â≠óÊØçÈó¥Ë∑ù */\n\t\t\t\ttouch-action: manipulation; /* ‰ºòÂåñËß¶Êë∏Â§ÑÁêÜ */\n\t\t\t\t-webkit-user-select: text; /* Â¢ûÂä†WebKitÊîØÊåÅ */\n\t\t\t\t\n\t\t\t\t/* Ëá™ÂÆö‰πâÊñáÊú¨ÈÄâÊã©Â§ñËßÇ */\n\t\t\t\t&::selection {\n\t\t\t\t\tbackground-color: rgba($pyq-vi-color, 0.2) !important; /* Êõ¥Êîπ‰∏∫ÂìÅÁâåËâ≤ÁöÑÂçäÈÄèÊòéÁâàÊú¨ */\n\t\t\t\t\tcolor: #333; /* ‰øùÊåÅÊñáÂ≠óÈ¢úËâ≤‰∏çÂèò */\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t/* WebKit ÊµèËßàÂô®ÂíåÈÉ®ÂàÜÂ∞èÁ®ãÂ∫è */\n\t\t\t\t&::-webkit-selection {\n\t\t\t\t\tbackground-color: rgba($pyq-vi-color, 0.2) !important;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.content-footer {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 8rpx 16rpx;\n\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\tborder-top: 1px solid #eee;\n\t\t\t\t\n\t\t\t\t.word-count {\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #999;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.text-toolbar {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tgap: 20rpx;\n\t\t\t\t\t\n\t\t\t\t\t.toolbar-btn {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t// background-color: #f0f0f0;\n\t\t\t\t\t\tpadding: 6rpx 12rpx;\n\t\t\t\t\t\tborder-radius: 30rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\ttext {\n\t\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\t\tmargin-left: 4rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t&:focus-within {\n\t\t\t\tborder-color: $pyq-vi-color;\n\t\t\t\tbox-shadow: 0 0 0 2px rgba($pyq-vi-color, 0.1);\n\t\t\t}\n\t\t}\n\n\t\t.media-section {\n\t\t\tmargin-bottom: 32rpx;\n\t\t}\n\n\t\t.images {\n\t\t\tmargin-bottom: 32rpx;\n\n\t\t\t.upload-notice {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tbackground-color: rgba(33, 150, 243, 0.08);\n\t\t\t\tpadding: 12rpx 16rpx;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t\t\n\t\t\t\ttext {\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: #2196F3;\n\t\t\t\t\tmargin-left: 8rpx;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.tip {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-top: 16rpx;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: $pyq-text-color-helper;\n\t\t\t}\n\t\t}\n\n\t\t.video {\n\t\t\t.video-link-preview {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 100%;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t\tbackground-color: #f7f7f7;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t.link-container {\n\t\t\t\t\tpadding-right: 60rpx; // ‰∏∫Âà†Èô§ÊåâÈíÆÁïôÂá∫Á©∫Èó¥\n\t\t\t\t\tword-break: break-all;\n\t\t\t\t}\n\n\t\t\t\t.link-text {\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t\tline-height: 1.5;\n\t\t\t\t}\n\n\t\t\t\t.delete-btn {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 15rpx;\n\t\t\t\t\tright: 15rpx;\n\t\t\t\t\tbackground: rgba(255, 0, 0, 0.7);\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\tpadding: 8rpx;\n\t\t\t\t\tz-index: 10;\n\t\t\t\t\twidth: 40rpx;\n\t\t\t\t\theight: 40rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.video-link-input {\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t\t\n\t\t\t\t.input-container {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tbackground-color: #f7f7f7;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\tpadding: 10rpx 20rpx;\n\t\t\t\t\t\n\t\t\t\t\t.link-input {\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\theight: 70rpx;\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tpadding: 0 20rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t.tip {\n\t\t\t\tdisplay: block;\n\t\t\t\tfont-size: 24rpx;\n\t\t\t\tcolor: $pyq-text-color-helper;\n\t\t\t}\n\t\t}\n\n\t\t.publish {\n\t\t\t.publish-btn {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 88rpx;\n\t\t\t\tline-height: 88rpx;\n\t\t\t\tbackground: linear-gradient(to right, $pyq-vi-color, rgba($pyq-vi-color, 0.6));\n\t\t\t\tcolor: #fff;\n\t\t\t\tfont-size: 32rpx;\n\t\t\t\tborder-radius: 44rpx;\n\n\t\t\t\t&:active {\n\t\t\t\t\topacity: 0.8;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\n\t\t// ÂõæÊ†áËá™ÂÆö‰πâÈù¢ÊùøÊ†∑Âºè\n\t\t.icon-customize-overlay {\n\t\t\tposition: fixed;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\t\tz-index: 9999;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\t\n\t\t\t.icon-customize-panel {\n\t\t\t\twidth: 80%;\n\t\t\t\tmax-width: 600rpx;\n\t\t\t\tbackground-color: #fff;\n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\tpadding: 30rpx;\n\t\t\t\tbox-shadow: 0 8rpx 24rpx rgba(0, 0, 0, 0.15);\n\t\t\t\t\n\t\t\t\t.icon-customize-header {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t\t\n\t\t\t\t\t.panel-title {\n\t\t\t\t\t\tfont-size: 32rpx;\n\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.close-btn {\n\t\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.icon-preview {\n\t\t\t\t\twidth: 200rpx;\n\t\t\t\t\theight: 200rpx;\n\t\t\t\t\tmargin: 0 auto 30rpx;\n\t\t\t\t\tborder: 1px solid #eee;\n\t\t\t\t\tborder-radius: 20rpx;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\n\t\t\t\t\t.preview-image {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tobject-fit: contain;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.customize-controls {\n\t\t\t\t\tmargin-bottom: 30rpx;\n\t\t\t\t\t\n\t\t\t\t\t.control-item {\n\t\t\t\t\t\tmargin-bottom: 20rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.control-label {\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\t\t\tdisplay: block;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.customize-buttons {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\tgap: 20rpx;\n\t\t\t\t\t\n\t\t\t\t\tbutton {\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\theight: 80rpx;\n\t\t\t\t\t\tline-height: 80rpx;\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tborder-radius: 40rpx;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.cancel-btn {\n\t\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.save-btn {\n\t\t\t\t\t\tbackground-color: $pyq-vi-color;\n\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/* ‰øÆÊîπ picker Á°ÆËÆ§ÊåâÈíÆÁöÑÈ¢úËâ≤ */\n\t:deep(.uni-picker-container) {\n\t\t.uni-picker-action {\n\t\t\tcolor: $pyq-vi-color !important;\n\t\t}\n\t}\n\n\t/* ÁßªÈô§ÊñáÊú¨ÈÄâÊã©Ê†∑ÂºèÁöÑÂÖ®Â±ÄÊ†∑Âºè - ‰ºöÂΩ±ÂìçÊâÄÊúâtextarea */\n\t:deep(page) {\n\t\t/* ÂæÆ‰ø°Â∞èÁ®ãÂ∫èÊñáÊú¨ÈÄâÊã©Ê†∑Âºè */\n\t\t/* stylelint-disable-next-line */\n\t\ttext::selection,\n\t\ttextarea::selection {\n\t\t\tbackground-color: rgba(255, 102, 0, 0.2) !important; /* Êõ¥ÊòéÊòæÁöÑÈÄâÊã©ËÉåÊôØËâ≤ */\n\t\t}\n\t}\n\n\t/* Ë¶ÜÁõñÂ∞èÁ®ãÂ∫èÈªòËÆ§ÁöÑÈÄâ‰∏≠Ê†∑Âºè */\n\t.selecting {\n\t\t/* ÈíàÂØπÂæÆ‰ø°Â∞èÁ®ãÂ∫èÁâπÂÆöÈÄâÊã©Ê†∑ÂºèÁöÑË¶ÜÁõñ */\n\t\tposition: relative;\n\t\tuser-select: auto;\n\t\t-webkit-user-select: auto; /* Â¢ûÂä†WebKitÊîØÊåÅ */\n\t\t\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tpointer-events: none;\n\t\t\tz-index: 5;\n\t\t}\n\t}\n\t\n\t.image-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 20rpx;\n\t\t\n\t\t.image-item {\n\t\t\tposition: relative;\n\t\t\twidth: 200rpx;\n\t\t\theight: 200rpx;\n\t\t\t\n\t\t\timage {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t}\n\t\t\t\n\t\t\t.delete-btn {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 15rpx;\n\t\t\t\tright: 15rpx;\n\t\t\t\tbackground: rgba(255, 0, 0, 0.7);\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tpadding: 8rpx;\n\t\t\t\tz-index: 10;\n\t\t\t\twidth: 40rpx;\n\t\t\t\theight: 40rpx;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t}\n\n\t\t\t.progress-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.5);\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tborder-radius: 8rpx;\n\n\t\t\t\t.progress-text {\n\t\t\t\t\tcolor: #fff;\n\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\tmargin-bottom: 10rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\ttext-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);\n\t\t\t\t}\n\n\t\t\t\t.progress-bar {\n\t\t\t\t\twidth: 80%;\n\t\t\t\t\theight: 4rpx;\n\t\t\t\t\tbackground: rgba(255, 255, 255, 0.3);\n\t\t\t\t\tborder-radius: 2rpx;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\n\t\t\t\t\t.progress {\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\tbackground: linear-gradient(to right, #fff, #2196F3);\n\t\t\t\t\t\tborder-radius: 2rpx;\n\t\t\t\t\t\ttransition: width 0.3s ease;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.upload-btn {\n\t\t\twidth: 200rpx;\n\t\t\theight: 200rpx;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbackground-color: #f7f7f7;\n\t\t\tborder-radius: 8rpx;\n\t\t}\n\t}\n\n\t// Ê∑ªÂä†ËßÜÈ¢ëËΩ¨Êç¢‰∏≠ÁöÑÂä®ÁîªÊ†∑Âºè\n\t.converting-overlay {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tborder-radius: 8rpx;\n\t\tz-index: 5;\n\t\t\n\t\t.converting-spinner {\n\t\t\twidth: 60rpx;\n\t\t\theight: 60rpx;\n\t\t\tborder: 4rpx solid rgba(255, 255, 255, 0.3);\n\t\t\tborder-top: 4rpx solid #fff;\n\t\t\tborder-radius: 50%;\n\t\t\tanimation: spin 1s linear infinite;\n\t\t\tmargin-bottom: 20rpx;\n\t\t}\n\t\t\n\t\t.converting-text {\n\t\t\tcolor: #fff;\n\t\t\tfont-size: 28rpx;\n\t\t}\n\t}\n\n\t// Ê∑ªÂä†ÊóãËΩ¨Âä®Áîª\n\t@keyframes spin {\n\t\t0% { transform: rotate(0deg); }\n\t\t100% { transform: rotate(360deg); }\n\t}\n\n\t// ‰ºòÂåñÊï¥‰ΩìÂ∏ÉÂ±Ä\n\t.article-add {\n\t\tpadding: 20rpx 30rpx; // ÂáèÂ∞èÊï¥‰ΩìÂÜÖËæπË∑ù\n\t\t\n\t\t.form-item {\n\t\t\tmargin-bottom: 20rpx; // ÂáèÂ∞èË°®ÂçïÈ°π‰πãÈó¥ÁöÑÈó¥Ë∑ù\n\t\t}\n\t\t\n\t\t.section-title {\n\t\t\tfont-size: 28rpx; // ÂáèÂ∞èÊ†áÈ¢òÂ≠ó‰ΩìÂ§ßÂ∞è\n\t\t\tmargin-bottom: 10rpx; // ÂáèÂ∞èÊ†áÈ¢òÂ∫ïÈÉ®ËæπË∑ù\n\t\t}\n\t}\n\n\t/* Ê∑ªÂä†ÂΩìÂâç‰ªÖÊòæÁ§∫Êú¨Âú∞ÂàÜÁ±ªÁöÑÊèêÁ§∫Ê†∑Âºè */\n\t.location-only-tip {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbackground-color: rgba(33, 150, 243, 0.08);\n\t\tpadding: 8rpx 16rpx;\n\t\tborder-radius: 8rpx;\n\t\tmargin-bottom: 16rpx;\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #2196F3;\n\t\t\tmargin-left: 8rpx;\n\t\t}\n\t}\n\n\t// Ë°®ÊÉÖÁ¨¶Âè∑Èù¢ÊùøÊ†∑Âºè\n\t.emoji-panel {\n\t\tposition: fixed;\n\t\tbottom: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 20rpx 20rpx 0 0;\n\t\tpadding: 20rpx;\n\t\tbox-shadow: 0 -4rpx 12rpx rgba(0, 0, 0, 0.1);\n\t\tz-index: 999;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tmax-height: 50vh;\n\t\t\n\t\t.emoji-header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tpadding-bottom: 16rpx;\n\t\t\tmargin-bottom: 16rpx;\n\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\t\n\t\t\t.emoji-title {\n\t\t\t\tfont-size: 28rpx;\n\t\t\t\tcolor: #333;\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\t\t\t\n\t\t\t.emoji-close {\n\t\t\t\tpadding: 8rpx;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\n\t\t\t\t&:active {\n\t\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.emoji-tabs {\n\t\t\tdisplay: flex;\n\t\t\tborder-bottom: 1px solid #f0f0f0;\n\t\t\tmargin-bottom: 16rpx;\n\t\t\t\n\t\t\t.emoji-tab {\n\t\t\t\tpadding: 12rpx 24rpx;\n\t\t\t\tfont-size: 26rpx;\n\t\t\t\tcolor: #666;\n\t\t\t\t\n\t\t\t\t&.active {\n\t\t\t\t\tcolor: $pyq-vi-color;\n\t\t\t\t\tborder-bottom: 2px solid $pyq-vi-color;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t.emoji-content {\n\t\t\tflex: 1;\n\t\t\toverflow-y: auto;\n\t\t\t\n\t\t\t.emoji-list {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-wrap: wrap;\n\t\t\t\tpadding: 10rpx;\n\t\t\t\t\n\t\t\t\t.emoji-item {\n\t\t\t\t\twidth: 70rpx;\n\t\t\t\t\theight: 70rpx;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\tjustify-content: center;\n\t\t\t\t\tfont-size: 36rpx;\n\t\t\t\t\tmargin: 10rpx;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Ê®°ÊùøÈù¢ÊùøÊ†∑Âºè\n\t.template-panel {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(0, 0, 0, 0.6);\n\t\tz-index: 999;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\t\n\t\t.template-container {\n\t\t\twidth: 80%;\n\t\t\tmax-width: 600rpx;\n\t\t\tbackground-color: #fff;\n\t\t\tborder-radius: 12rpx;\n\t\t\toverflow: hidden;\n\t\t\tmax-height: 70vh;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\t\n\t\t\t.template-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\tborder-bottom: 1px solid #eee;\n\t\t\t\t\n\t\t\t\t.template-title {\n\t\t\t\t\tfont-size: 30rpx;\n\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\tcolor: #333;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t.close-btn {\n\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\tborder-radius: 50%;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t.template-list {\n\t\t\t\tflex: 1;\n\t\t\t\toverflow-y: auto;\n\t\t\t\tpadding: 20rpx;\n\t\t\t\t\n\t\t\t\t.template-item {\n\t\t\t\t\tpadding: 16rpx;\n\t\t\t\t\tborder-radius: 12rpx;\n\t\t\t\t\tbackground-color: #f9f9f9;\n\t\t\t\t\tmargin-bottom: 16rpx;\n\t\t\t\t\tborder: 1px solid #eee;\n\t\t\t\t\t\n\t\t\t\t\t&:active {\n\t\t\t\t\t\tbackground-color: rgba($pyq-vi-color, 0.1);\n\t\t\t\t\t\tborder-color: rgba($pyq-vi-color, 0.3);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.template-item-header {\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tmargin-bottom: 8rpx;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.template-item-title {\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t\tfont-weight: bold;\n\t\t\t\t\t\t\tcolor: #333;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t.template-preview {\n\t\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\t\tcolor: #666;\n\t\t\t\t\t\tline-height: 1.4;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>","import MiniProgramPage from 'E:/wx2/pages/fabu/fabu.vue'\nwx.createPage(MiniProgramPage)"],"mappings":"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","ignoreList":[]}