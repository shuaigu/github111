{"version":3,"file":"articleItem.js","sources":["components/articleItem/articleItem.vue","../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RDov5Luj56CB5rWL6K-VL3d4Mi9jb21wb25lbnRzL2FydGljbGVJdGVtL2FydGljbGVJdGVtLnZ1ZQ"],"sourcesContent":["<script setup>\n\timport { ref, watch, computed, onUnmounted } from 'vue'\n\timport { useUserInfoStore } from '@/store/user.js'\n\timport { fixImageUrl, getDefaultImage } from '@/utils/domainConfig.js'\n\tconst userStore = useUserInfoStore( )\n\n\t// 定义组件属性\n\tconst props = defineProps( {\n\t\titem: {\n\t\t\ttype: Object,\n\t\t\trequire: true,\n\t\t\tdefault: ( ) => ( {\n\t\t\t\tuser_info: {\n\t\t\t\t\tnickName: '未知用户',\n\t\t\t\t\tavatarUrl: '/static/images/default-avatar.png',\n\t\t\t\t\tmobile: '未填写'\n\t\t\t\t}\n\t\t\t} )\n\t\t},\n\t\t// 是否显示评论区\n\t\tshowComments: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t},\n\t\t// 是否启用头像点击功能\n\t\tavatarClickEnabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t} )\n\n\t// 视频默认缩略图\n\tconst defaultVideoThumbnail = '/static/images/video-thumbnail.png'\n\t\n\t// 获取视频缩略图\n\tconst getVideoThumbnail = (video) => {\n\t\tif (!video) return defaultVideoThumbnail\n\t\t\n\t\tif (video.thumbnailURL) {\n\t\t\treturn video.thumbnailURL\n\t\t}\n\t\t\n\t\treturn defaultVideoThumbnail\n\t}\n\n\t// 自定义格式化日期函数\n\tconst formatDate = (timestamp) => {\n\t\tif (!timestamp) return '未知时间'\n\t\t\n\t\tconst now = Date.now()\n\t\tconst diff = now - timestamp\n\t\t\n\t\t// 转换为秒\n\t\tconst seconds = Math.floor(diff / 1000)\n\t\t// 转换为分钟\n\t\tconst minutes = Math.floor(seconds / 60)\n\t\t// 转换为小时\n\t\tconst hours = Math.floor(minutes / 60)\n\t\t// 转换为天\n\t\tconst days = Math.floor(hours / 24)\n\t\t\n\t\t// 刚刚\n\t\tif (seconds < 60) {\n\t\t\treturn '刚刚'\n\t\t}\n\t\t// xx分钟前\n\t\telse if (minutes < 60) {\n\t\t\treturn `${minutes}分钟前`\n\t\t}\n\t\t// xx小时前\n\t\telse if (hours < 24) {\n\t\t\treturn `${hours}小时前`\n\t\t}\n\t\t// xx天前 (最多显示180天)\n\t\telse if (days < 180) {\n\t\t\treturn `${days}天前`\n\t\t}\n\t\t// 具体日期\n\t\telse {\n\t\t\tconst date = new Date(timestamp)\n\t\t\tconst year = date.getFullYear()\n\t\t\tconst month = date.getMonth() + 1\n\t\t\tconst day = date.getDate()\n\t\t\tconst hour = date.getHours()\n\t\t\tconst minute = date.getMinutes()\n\t\t\t\n\t\t\t// 格式化为两位数\n\t\t\tconst formattedMonth = month < 10 ? `0${month}` : month\n\t\t\tconst formattedDay = day < 10 ? `0${day}` : day\n\t\t\tconst formattedHour = hour < 10 ? `0${hour}` : hour\n\t\t\tconst formattedMinute = minute < 10 ? `0${minute}` : minute\n\t\t\tconst timeStr = `${formattedHour}:${formattedMinute}`\n\t\t\t\n\t\t\t// 如果是今年，只显示月日时分\n\t\t\tconst nowYear = new Date().getFullYear()\n\t\t\tif (year === nowYear) {\n\t\t\t\treturn `${formattedMonth}月${formattedDay}日 ${timeStr}`\n\t\t\t}\n\t\t\t// 如果不是今年，显示年月日时分\n\t\t\treturn `${year}年${formattedMonth}月${formattedDay}日 ${timeStr}`\n\t\t}\n\t}\n\n\t// 定义事件\n\tconst emit = defineEmits( [ 'delete', 'contact', 'comment', 'like', 'preview', 'userList',\n\t\t'update:comments'\n\t] )\n\n\t// 处理用户列表点击\n\tconst handleUserList = ( user_id ) => {\n\t\t// 检查头像点击功能是否启用\n\t\tif (!props.avatarClickEnabled) {\n\t\t\tconsole.log('头像点击功能已禁用')\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '此功能开发中',\n\t\t\t\ticon: 'none',\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\t\n\t\temit( 'userList', user_id )\n\t}\n\n\t// 处理删除\n\tconst handleDelete = ( id ) => {\n\t\temit( 'delete', id )\n\t}\n\n\t// 处理联系\n\tconst handleContact = ( mobile ) => {\n\t\temit( 'contact', mobile )\n\t}\n\n\t// 处理评论\n\tconst handleComment = ( id ) => {\n\t\tif ( props.showComments ) {\n\t\t\t// 在详情页中，触发评论事件\n\t\t\temit( 'comment' )\n\t\t} else {\n\t\t\t// 在其他页面中，跳转到详情页，同时传递必要的用户信息\n\t\t\tuni.navigateTo( {\n\t\t\t\turl: `/pages/article/articleDetail?article_id=${id}&user_id=${props.item.user_id}`,\n\t\t\t\tanimationType: 'slide-in-right', // 添加滑入动画\n\t\t\t\tanimationDuration: 300 // 设置动画持续时间为300ms\n\t\t\t} )\n\t\t}\n\t}\n\n\t// 处理点赞\n\tconst handleLove = ( id ) => {\n\t\temit( 'like', id )\n\t}\n\n\t// 处理评论更新\n\tconst handleCommentsUpdate = ( newComments ) => {\n\t\temit( 'update:comments', newComments )\n\t}\n\n\t// 点击详情\n\tconst handleDetail = ( article_id ) => {\n\t\tconsole.log( article_id, '跳转文章详情' )\n\t\tuni.navigateTo( {\n\t\t\turl: `/pages/article/articleDetail?article_id=${article_id}`,\n\t\t\tanimationType: 'slide-in-right', // 添加滑入动画\n\t\t\tanimationDuration: 300 // 设置动画持续时间为300ms\n\t\t} )\n\t}\n\n\t// 跳转到文章详情\n\tconst goToDetail = ( item ) => {\n\t\tif ( !props.showComments ) { // 如果不是在详情页中\n\t\t\tuni.navigateTo( {\n\t\t\t\turl: `/pages/article/articleDetail?article_id=${item._id}&user_id=${item.user_id}`,\n\t\t\t\tanimationType: 'slide-in-right', // 添加滑入动画\n\t\t\t\tanimationDuration: 300 // 设置动画持续时间为300ms\n\t\t\t} )\n\t\t}\n\t}\n\n\t// 计算用户信息\n\tconst userInfo = computed( ( ) => {\n\t\treturn props.item || {\n\t\t\tnickName: '未知用户',\n\t\t\tavatarUrl: getDefaultImage('avatar'),\n\t\t\tmobile: '未填写'\n\t\t}\n\t} )\n\t\n\t// 处理用户头像URL\n\tconst userAvatarUrl = computed(() => {\n\t\tconst avatarUrl = userInfo.value.user_avatarUrl || userInfo.value.avatarUrl\n\t\tif (!avatarUrl || avatarUrl === getDefaultImage('avatar')) {\n\t\t\treturn getDefaultImage('avatar')\n\t\t}\n\t\treturn fixImageUrl(avatarUrl)\n\t})\n\t\n\t// 处理文章图片URL\n\tconst processedImages = computed(() => {\n\t\tif (!props.item.images || !props.item.images.length) {\n\t\t\treturn []\n\t\t}\n\t\t\n\t\treturn props.item.images.map(img => {\n\t\t\tconst originalUrl = img.compressedURL || img.thumbnailURL || img.url\n\t\t\tif (!originalUrl) {\n\t\t\t\treturn {\n\t\t\t\t\t...img,\n\t\t\t\t\tprocessedUrl: getDefaultImage('default')\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\treturn {\n\t\t\t\t...img,\n\t\t\t\tprocessedUrl: fixImageUrl(originalUrl)\n\t\t\t}\n\t\t})\n\t})\n\n\tconst onAvatarError = ( e ) => {\n\t\te.target.src = getDefaultImage('avatar')\n\t}\n\n\tconst handlePreview = (url, index) => {\n\t\tif (!url) return\n\t\tconsole.log('Preview URL:', url)\n\t\t\n\t\t// 获取有效图片列表\n\t\tconst validImages = processedImages.value.filter(img => img.processedUrl)\n\t\t// 最多只预览9张图片\n\t\tconst limitedImages = validImages.slice(0, 9)\n\t\t\n\t\tif (limitedImages.length) {\n\t\t\t// 提取所有图片URL列表 - 使用处理后的URL\n\t\t\tconst urls = limitedImages.map(img => img.processedUrl)\n\t\t\t\n\t\t\t// 使用uni.previewImage实现图片预览和左右滑动功能\n\t\t\tuni.previewImage({\n\t\t\t\turls: urls,           // 需要预览的图片链接列表\n\t\t\t\tcurrent: urls[index], // 当前显示图片的链接\n\t\t\t\tindicator: 'number',  // 显示页码指示器\n\t\t\t\tloop: true,           // 循环预览\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tconsole.log('图片预览成功');\n\t\t\t\t},\n\t\t\t\tfail: (err) => {\n\t\t\t\t\tconsole.error('预览图片失败:', err);\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '预览图片失败',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t// Add a new function for image preview on long press\n\tconst handleLongPressPreview = (url, index) => {\n\t\tif (!url) return\n\t\tconsole.log('Original URL:', url)\n\t\t\n\t\t// 获取有效图片列表\n\t\tconst validImages = processedImages.value.filter(img => img.processedUrl)\n\t\t// 最多只预览9张图片\n\t\tconst limitedImages = validImages.slice(0, 9)\n\t\t\n\t\tif (limitedImages.length) {\n\t\t\t// 提取所有图片URL列表 - 使用处理后的URL\n\t\t\tconst urls = limitedImages.map(img => img.processedUrl)\n\t\t\t\n\t\t\t// 传递所有图片URL到父组件进行预览\n\t\t\temit('preview', urls[index], urls)\n\t\t}\n\t}\n</script>\n\n<template>\n\t<view class=\"pyqContent\">\n\t\t<!-- 动态头部 -->\n\t\t<view class=\"pyq-head\">\n\t\t\t<view class=\"left\" @click=\"handleUserList(item.user_id)\" :class=\"{'disabled': !avatarClickEnabled}\">\n\t\t\t\t<view class=\"userAvatar\">\n\t\t\t\t\t<image class=\"avatar-image\" :src=\"userAvatarUrl\" mode=\"aspectFill\" @error=\"onAvatarError\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"info\">\n\t\t\t\t\t<view class=\"top\">\n\t\t\t\t\t\t<view class=\"nickName\">\n\t\t\t\t\t\t\t{{userInfo.user_nickName}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- 审核状态样式 -->\n\t\t\t\t\t\t<view class=\"examine\">\n\t\t\t\t\t\t\t<slot></slot>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"address\">\n\t\t\t\t\t\t<uni-icons custom-prefix=\"icon\" type=\"lishuai-dingwei\" size=\"12\" color=\"#8a8a8a\"></uni-icons>\n\t\t\t\t\t\t<text class=\"address-text\">{{item.district || '未知位置'}}</text>\n\t\t\t\t\t\t<text class=\"time-divider\">|</text>\n\t\t\t\t\t\t<text class=\"time-text\">{{ formatDate(item.create_time) }}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 文章的功能操作 -->\n\t\t\t<view class=\"right\">\n\t\t\t\t<view class=\"operation\">\n\t\t\t\t\t<!-- 统一根据用户ID判断显示按钮 -->\n\t\t\t\t\t<view class=\"action-btn\" v-if=\"item.user_id === userStore.userInfo.uid\"\n\t\t\t\t\t\t@click=\"handleDelete(item._id)\">\n\t\t\t\t\t\t<uni-icons color=\"#999999\" custom-prefix=\"icon\" type=\"lishuai-shanchu\" size=\"18\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action-btn\" v-else @click=\"handleContact(item.user_mobile)\">\n\t\t\t\t\t\t<uni-icons color=\"#5cb85c\" custom-prefix=\"icon\" type=\"lishuai-dianhua\" size=\"18\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- 动态发布的内容 -->\n\t\t<view class=\"pyq-c\" @click=\"goToDetail(item)\">\n\t\t\t<view class=\"text-content\">{{item.content}}</view>\n\t\t</view>\n\t\t<!-- 动态照片 -->\n\t\t<view class=\"pyq-img\" v-if=\"processedImages?.length\">\n\t\t\t<!-- 单张图片显示 -->\n\t\t\t<view class=\"single-img\" v-if=\"processedImages.length === 1\">\n\t\t\t\t<image class=\"single-img-item\" :lazy-load=\"true\" :src=\"processedImages[0].processedUrl\" mode=\"widthFix\"\n\t\t\t\t\t@click=\"goToDetail(item)\"\n\t\t\t\t\t@longtap=\"() => handleLongPressPreview(processedImages[0].processedUrl, 0)\"></image>\n\t\t\t</view>\n\t\t\t<!-- 多张图片显示，最多显示9张 -->\n\t\t\t<view class=\"multi-img\" v-else>\n\t\t\t\t<view :class=\"['img-grid', `grid-${Math.min(processedImages.length, 9)}`]\">\n\t\t\t\t\t<image class=\"grid-item\" :lazy-load=\"true\" v-for=\"(img, index) in processedImages.slice(0, 9)\" :key=\"index\" :src=\"img.processedUrl\"\n\t\t\t\t\t\tmode=\"aspectFill\" \n\t\t\t\t\t\t@click=\"goToDetail(item)\"\n\t\t\t\t\t\t@longtap=\"() => handleLongPressPreview(img.processedUrl, index)\"></image>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 动态操作功能 -->\n\t\t<view class=\"pyq-gn\">\n\t\t\t<!-- 左侧区域，可以放置其他内容或保留空白 -->\n\t\t\t<view class=\"left-area\">\n\t\t\t\t<!-- 视频标识图标 -->\n\t\t\t\t<view v-if=\"item.videoURL || item.video?.videoURL\" class=\"video-info\">\n\t\t\t\t\t<uni-icons custom-prefix=\"icon\" type=\"lishuai-shipin\" size=\"14\" color=\"#999999\"></uni-icons>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 右侧功能区 - 只显示浏览量 -->\n\t\t\t<view class=\"right\">\n\t\t\t\t<!-- 浏览次数 -->\n\t\t\t\t<view class=\"publicTime view-info\">\n\t\t\t\t\t{{ item.look_count || 0 }}次浏览\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<style lang=\"scss\" scoped>\n\t/*朋友圈动态*/\n\t.pyqContent {\n\t\tflex: 1;\n\t\tmargin-bottom: 2rpx;\n\t\tpadding: 24rpx;\n\t\tbackground-color: #fff;\n\n\t\t/* 显示详情按钮 */\n\t\t.detail-btn {\n\t\t\tpadding: 8rpx 20rpx;\n\t\t\tbackground-color: #1890ff;\n\t\t\tcolor: #ffffff;\n\t\t\tborder-radius: 8rpx;\n\t\t\tfont-size: 24rpx;\n\t\t}\n\t\t\n\t\t/*头部-用户基本信息*/\n\t\t.pyq-head {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\n\t\t\t/*左侧用户信息*/\n\t\t\t.left {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\n\t\t\t\t&.disabled {\n\t\t\t\t\tcursor: not-allowed;\n\t\t\t\t\topacity: 0.9;\n\t\t\t\t}\n\n\t\t\t\t/*头像*/\n\t\t\t\t.userAvatar {\n\t\t\t\t\twidth: 80rpx;\n\t\t\t\t\theight: 80rpx;\n\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\toverflow: hidden;\n\t\t\t\t\t\n\t\t\t\t\t.avatar-image {\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t.info {\n\t\t\t\t\tmargin: 0 16rpx;\n\n\t\t\t\t\t.top {\n\t\t\t\t\t\tdisplay: flex;\n\n\t\t\t\t\t\t/*昵称*/\n\t\t\t\t\t\t.nickName {\n\t\t\t\t\t\t\t@include gradientText;\n\t\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*审核样式*/\n\t\t\t\t\t\t.examine {\n\t\t\t\t\t\t\tmargin-left: 16rpx;\n\t\t\t\t\t\t\tcolor: #fa8c16;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t/*定位*/\n\t\t\t\t\t.address {\n\t\t\t\t\t\tfont-size: 28rpx;\n\t\t\t\t\t\tcolor: $pyq-text-color-helper;\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\t\n\t\t\t\t\t\t.address-text {\n\t\t\t\t\t\t\tmargin-left: 4rpx;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.time-divider {\n\t\t\t\t\t\t\tmargin: 0 8rpx;\n\t\t\t\t\t\t\tcolor: $pyq-text-color-helper;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t.time-text {\n\t\t\t\t\t\t\tcolor: $pyq-text-color-helper;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*顶部右侧功能*/\n\t\t\t.right {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\n\t\t\t\t.operation {\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\n\t\t\t\t\t.action-btn {\n\t\t\t\t\t\tpadding: 20rpx;\n\t\t\t\t\t\tcursor: pointer;\n\n\t\t\t\t\t\t&:active {\n\t\t\t\t\t\t\topacity: 0.7;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*内容-发布文字内容*/\n\t\t.pyq-c {\n\t\t\tmargin-left: 96rpx;\n\t\t\tfont-size: 32rpx;\n\t\t\tcolor: $pyq-text-color-body;\n\t\t\tcursor: pointer;\n\n\t\t\t&:active {\n\t\t\t\topacity: 0.7;\n\t\t\t}\n\t\t}\n\n\t\t/*文字内容*/\n\t\t.text-content {\n\t\t\t@include textShenglue(5);\n\t\t\tmargin-bottom: 16rpx;\n\t\t}\n\n\t\t/*发布的图片*/\n\t\t.pyq-img {\n\t\t\tmargin-left: 96rpx;\n\n\t\t\t// 单张图片样式\n\t\t\t.single-img {\n\t\t\t\twidth: 300rpx;\n\t\t\t\tmin-height: 100rpx;\n\t\t\t\tmax-height: 600rpx;\n\t\t\t\tborder-radius: 8rpx;\n\t\t\t\toverflow: hidden;\n\n\t\t\t\t.single-img-item {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\theight: auto;\n\t\t\t\t\tvertical-align: top;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// 多张图片样式\n\t\t\t.multi-img {\n\t\t\t\t.img-grid {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tflex-wrap: wrap;\n\t\t\t\t\tgap: 8rpx;\n\n\t\t\t\t\t.grid-item {\n\t\t\t\t\t\twidth: 180rpx;\n\t\t\t\t\t\theight: 180rpx;\n\t\t\t\t\t\tborder-radius: 8rpx;\n\t\t\t\t\t}\n\n\t\t\t\t\t// 4张图片特殊处理\n\t\t\t\t\t&.grid-4 {\n\t\t\t\t\t\twidth: 420rpx;\n\t\t\t\t\t}\n\n\t\t\t\t\t&.grid-9 {\n\t\t\t\t\t\twidth: 630rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*朋友圈动态操作功能区*/\n\t\t.pyq-gn {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t\tmargin-top: 24rpx;\n\t\t\tpadding-left: 96rpx;\n\n\t\t\t/*左侧区域，可以放置其他内容或保留空白 */\n\t\t\t.left-area {\n\t\t\t\t// 视频信息样式\n\t\t\t\t.video-info {\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t\t\n\t\t\t\t\t.uni-icons {\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\ttop: 2rpx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t/*右侧功能区 - 只显示浏览量 */\n\t\t\t.right {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\n\t\t\t\t/*浏览量*/\n\t\t\t\t.publicTime {\n\t\t\t\t\tfont-size: 24rpx;\n\t\t\t\t\tcolor: $pyq-text-color-placeholder;\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\talign-items: center;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</style>","import Component from 'D:/代码测试/wx2/components/articleItem/articleItem.vue'\nwx.createComponent(Component)"],"names":["useUserInfoStore","uni","computed","getDefaultImage","fixImageUrl"],"mappings":"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"}