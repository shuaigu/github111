{"version":3,"file":"my.js","sources":["pages/my/my.vue","../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbXkvbXkudnVl"],"sourcesContent":["<script setup>\r\n\timport {\r\n\t\tcomputed,\r\n\t\tonMounted,\r\n\t\tref,\r\n\t} from 'vue'\r\n\timport {\r\n\t\tuseUserInfoStore\r\n\t} from '@/store/user.js'\r\n\t// 导入用户信息store\r\n\tconst userStore = useUserInfoStore()\r\n\t// 用户云对象\r\n\tconst userApi = uniCloud.importObject('userWx', { customUI: true })\r\n\r\n\t// 点击登录\r\n\tconst clickLogin = async () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: \"/pages/login/login\"\r\n\t\t})\r\n\t}\r\n\r\n\t// 修改头像\r\n\tconst changeAvatar = () => {\r\n\t\t// 判断是否已登录\r\n\t\tif (!userStore.userInfo.isLogin) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请先登录',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\t// 检查环境是否支持微信官方的头像选择接口\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tconst version = wx.getSystemInfoSync().SDKVersion\r\n\t\tconst canUseChooseAvatar = compareVersion(version, '2.21.2') >= 0\r\n\t\t\r\n\t\tif (canUseChooseAvatar) {\r\n\t\t\t// 小程序环境下已经使用了button的open-type=\"chooseAvatar\"\r\n\t\t\t// 此处无需额外处理，用户点击头像会触发原生的选择头像功能\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '点击选择头像按钮进行更换',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// #endif\r\n\t\t\r\n\t\t// 非小程序环境或低版本基础库使用通用的chooseImage\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1, // 默认9\r\n\t\t\tsizeType: ['compressed'], // 压缩图片\r\n\t\t\tsourceType: ['album', 'camera'], // 从相册选择或拍照\r\n\t\t\tsuccess: async (res) => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst tempFilePath = res.tempFilePaths[0]\r\n\t\t\t\t\tawait uploadAndSaveAvatar(tempFilePath)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('更新头像失败:', error)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: error.message || '头像更新失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 处理微信头像选择回调\r\n\tconst onChooseAvatar = async (e) => {\r\n\t\tconst { avatarUrl } = e.detail\r\n\t\tif (avatarUrl) {\r\n\t\t\ttry {\r\n\t\t\t\tawait uploadAndSaveAvatar(avatarUrl)\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error('更新头像失败:', error)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: error.message || '头像更新失败',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 上传并保存头像的通用方法\r\n\tconst uploadAndSaveAvatar = async (tempFilePath) => {\r\n\t\t// 显示上传提示\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '更新头像中...'\r\n\t\t})\r\n\t\t\r\n\t\ttry {\r\n\t\t\t// 上传图片到云存储\r\n\t\t\tconst uploadRes = await uniCloud.uploadFile({\r\n\t\t\t\tfilePath: tempFilePath,\r\n\t\t\t\tcloudPath: `avatar/${userStore.userInfo.uid}_${Date.now()}.jpg`\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif (!uploadRes.fileID) {\r\n\t\t\t\tthrow new Error('头像上传失败')\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 调用云函数更新用户头像\r\n\t\t\tconst result = await userApi.updateUserProfile({\r\n\t\t\t\tuid: userStore.userInfo.uid,\r\n\t\t\t\tavatarUrl: uploadRes.fileID\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif (result.code === 0) {\r\n\t\t\t\t// 更新本地store\r\n\t\t\t\tuserStore.updateUserAvatar(uploadRes.fileID)\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '头像更新成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(result.message || '头像更新失败')\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tuni.hideLoading()\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 修改昵称 - 微信原生昵称输入框的值改变事件\r\n\tconst onNicknameChange = (e) => {\r\n\t\tconst nickName = e.detail.value\r\n\t\tif (nickName && nickName !== userStore.userInfo.nickName) {\r\n\t\t\tupdateNickName(nickName)\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 更新昵称的通用方法\r\n\tconst updateNickName = async (nickName) => {\r\n\t\ttry {\r\n\t\t\t// 显示提示\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle: '更新昵称中...'\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\t// 调用云函数更新昵称\r\n\t\t\tconst result = await userApi.updateUserProfile({\r\n\t\t\t\tuid: userStore.userInfo.uid,\r\n\t\t\t\tnickName: nickName\r\n\t\t\t})\r\n\t\t\t\r\n\t\t\tif (result.code === 0) {\r\n\t\t\t\t// 更新本地store\r\n\t\t\t\tuserStore.updateUserNickName(nickName)\r\n\t\t\t\t\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '昵称更新成功',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tthrow new Error(result.message || '昵称更新失败')\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\tconsole.error('更新昵称失败:', error)\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: error.message || '昵称更新失败',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t} finally {\r\n\t\t\tuni.hideLoading()\r\n\t\t}\r\n\t}\r\n\t\r\n\t// 比较版本号\r\n\tconst compareVersion = (v1, v2) => {\r\n\t\tv1 = v1.split('.')\r\n\t\tv2 = v2.split('.')\r\n\t\tconst len = Math.max(v1.length, v2.length)\r\n\t\t\r\n\t\twhile (v1.length < len) {\r\n\t\t\tv1.push('0')\r\n\t\t}\r\n\t\twhile (v2.length < len) {\r\n\t\t\tv2.push('0')\r\n\t\t}\r\n\t\t\r\n\t\tfor (let i = 0; i < len; i++) {\r\n\t\t\tconst num1 = parseInt(v1[i])\r\n\t\t\tconst num2 = parseInt(v2[i])\r\n\t\t\t\r\n\t\t\tif (num1 > num2) {\r\n\t\t\t\treturn 1\r\n\t\t\t} else if (num1 < num2) {\r\n\t\t\t\treturn -1\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn 0\r\n\t}\r\n\t\r\n\t// 修改昵称\r\n\tconst changeNickName = () => {\r\n\t\t// 判断是否已登录\r\n\t\tif (!userStore.userInfo.isLogin) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '请先登录',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\t// #ifdef MP-WEIXIN\r\n\t\tconst version = wx.getSystemInfoSync().SDKVersion\r\n\t\tconst canUseNicknameInput = compareVersion(version, '2.21.2') >= 0\r\n\t\t\r\n\t\tif (canUseNicknameInput) {\r\n\t\t\t// 小程序环境下已经使用了input type=\"nickname\"\r\n\t\t\t// 此处无需额外处理，用户点击昵称会弹出原生输入框\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '点击输入框修改昵称',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t})\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// #endif\r\n\t\t\r\n\t\t// 非小程序环境或低版本基础库使用对话框\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '修改昵称',\r\n\t\t\teditable: true,\r\n\t\t\tplaceholderText: '请输入新昵称',\r\n\t\t\tcontent: userStore.userInfo.nickName,\r\n\t\t\tsuccess: async (res) => {\r\n\t\t\t\tif (res.confirm && res.content) {\r\n\t\t\t\t\tupdateNickName(res.content)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 信息公示跳转\r\n\tconst contarct = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: \"/subPages/contarct/contarct\"\r\n\t\t})\r\n\t}\r\n\r\n\t// 意见反馈跳转\r\n\tconst feedBack = () => {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: \"/subPages/feedBack/feedBack\"\r\n\t\t})\r\n\t}\r\n\r\n\t// 角色判断\r\n\tconst isAdmin = computed(() => userStore.userInfo.role[0] === 'admin')\r\n\t// 后台管理\r\n\tconst adminManage = () => {\r\n\t\tif (isAdmin.value) {\r\n\t\t\t// 检查页面是否存在\r\n\t\t\ttry {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/subPages/adminManage/adminManage\",\r\n\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\tconsole.error('跳转到管理页面失败:', err)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '页面不存在或配置错误',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error('导航异常:', e)\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '跳转异常，请重试',\r\n\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\tduration: 2000\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '您没有管理员权限',\r\n\t\t\t\ticon: 'none',\r\n\t\t\t\tduration: 2000\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// 处理手机号显示，中间4位用8代替\r\n\tconst maskedMobile = computed(() => {\r\n\t\tif (!userStore.userInfo.mobile) return '';\r\n\t\tconst mobile = userStore.userInfo.mobile;\r\n\t\tif (mobile.length !== 11) return mobile;\r\n\t\treturn mobile.substring(0, 3) + '****' + mobile.substring(7);\r\n\t})\r\n\r\n\tonMounted(() => {\r\n\t\tif (userStore.userInfo.uid) {\r\n\t\t\t// userOrderGet() 函数未定义，暂时注释掉\r\n\t\t\t// userOrderGet()\r\n\t\t}\r\n\t})\r\n\t// 点击退出登录\r\n\tconst loginOut = () => {\r\n\t\tuni.showModal({\r\n\t\t\ttitle: '提示',\r\n\t\t\tcontent: '确定要退出登录吗',\r\n\t\t\tsuccess(res) {\r\n\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\tuserStore.cleanUserInfo()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n</script>\r\n\r\n<template>\r\n\t<view class=\"my\">\r\n\t\t<!-- 头部 -->\r\n\t\t<view class=\"myHead\">\r\n\t\t\t<!-- 头像区域 -->\r\n\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t<button open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\" class=\"avatar-button\">\r\n\t\t\t\t<view class=\"avatar\">\r\n\t\t\t\t\t<image :src=\"userStore.userInfo.avatarUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t<view class=\"edit-icon\" v-if=\"userStore.userInfo.isLogin\">\r\n\t\t\t\t\t\t<uni-icons type=\"camera-filled\" color=\"#fff\" size=\"20\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</button>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t\r\n\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t<view class=\"avatar\" @click=\"changeAvatar\">\r\n\t\t\t\t<image :src=\"userStore.userInfo.avatarUrl\" mode=\"aspectFill\"></image>\r\n\t\t\t\t<view class=\"edit-icon\" v-if=\"userStore.userInfo.isLogin\">\r\n\t\t\t\t\t<uni-icons type=\"camera-filled\" color=\"#fff\" size=\"20\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t\r\n\t\t\t<!-- 已经登录 -->\r\n\t\t\t<view class=\"userInfo\" v-if=\"userStore.userInfo.isLogin\">\r\n\t\t\t\t<!-- 昵称区域 -->\r\n\t\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t\t<view class=\"nickname\">\r\n\t\t\t\t\t<input type=\"nickname\" @change=\"onNicknameChange\" :value=\"userStore.userInfo.nickName\" class=\"nickname-input\" placeholder=\"点击输入昵称\"/>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\r\n\t\t\t\t<!-- #ifndef MP-WEIXIN -->\r\n\t\t\t\t<view class=\"nickname\" @click=\"changeNickName\">\r\n\t\t\t\t\t<text class=\"nickname-text\">{{userStore.userInfo.nickName || '点击设置昵称'}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- #endif -->\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"mobile\">\r\n\t\t\t\t\t手机号：{{maskedMobile}}\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<!-- 未登录 -->\r\n\t\t\t<view class=\"login-btn\" @click=\"clickLogin\" v-else>\r\n\t\t\t\t点击登录\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\t\t<!-- 内容 -->\r\n\t\t<view class=\"myContent\">\r\n\t\t\t<!-- 菜单列表 -->\r\n\t\t\t<view class=\"menu-list\">\r\n\t\t\t\t<!-- 联系我们 -->\r\n\t\t\t\t<view class=\"menu-item\" @click=\"contarct\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<uni-icons color=\"#46b0fe\" type=\"wallet\" size=\"22\"></uni-icons>\r\n\t\t\t\t\t\t<text class=\"value\">信息公示</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-icons color=\"#cccccc\" custom-prefix=\"iconfont\" type=\"icon-arrow-drop-right-line\" size=\"30\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 意见反馈 -->\r\n\t\t\t\t<view class=\"menu-item\" @click=\"feedBack\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<uni-icons color=\"#46b0fe\" custom-prefix=\"iconfont\" type=\"icon-yijianfankui\" size=\"22\"></uni-icons>\r\n\t\t\t\t\t\t<text class=\"value\">意见反馈</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-icons color=\"#cccccc\" custom-prefix=\"iconfont\" type=\"icon-arrow-drop-right-line\" size=\"30\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 后台管理 -->\r\n\t\t\t\t<view class=\"menu-item\" @click=\"adminManage\" v-if=\"userStore.userInfo.role[0]=='admin'\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<uni-icons color=\"#46b0fe\" custom-prefix=\"iconfont\" type=\"icon-houtaiguanli\" size=\"22\"></uni-icons>\r\n\t\t\t\t\t\t<text class=\"value\">后台管理</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-icons color=\"#cccccc\" custom-prefix=\"iconfont\" type=\"icon-arrow-drop-right-line\" size=\"30\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<!-- 退出登录 -->\r\n\t\t\t<view class=\"logout-section\" v-if=\"userStore.userInfo.isLogin\">\r\n\t\t\t\t<view class=\"menu-item logout\" @click=\"loginOut\">\r\n\t\t\t\t\t<view class=\"left\">\r\n\t\t\t\t\t\t<uni-icons color=\"#ff6b6b\" custom-prefix=\"iconfont\" type=\"icon-tuichudenglu\" size=\"22\"></uni-icons>\r\n\t\t\t\t\t\t<text class=\"value\">退出登录</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<uni-icons color=\"#cccccc\" custom-prefix=\"iconfont\" type=\"icon-arrow-drop-right-line\" size=\"30\"></uni-icons>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 版本信息 -->\r\n\t\t\t<view class=\"version-info\">\r\n\t\t\t\t<text>酒旅圈圈 v1.0.0</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.my {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f7f7f7;\r\n\r\n\t\t/*头部*/\r\n\t\t.myHead {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tpadding: 40rpx 30rpx;\r\n\t\t\theight: 320rpx;\r\n\t\t\tcolor: #fff;\r\n\t\t\tbackground: linear-gradient(135deg, #46b0fe, #6385ff);\r\n\t\t\tposition: relative;\r\n\t\t\toverflow: hidden;\r\n\t\t\tbox-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);\r\n\t\t\t\r\n\t\t\t&::before {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: -100rpx;\r\n\t\t\t\tright: -100rpx;\r\n\t\t\t\twidth: 400rpx;\r\n\t\t\t\theight: 400rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbackground: rgba(255, 255, 255, 0.1);\r\n\t\t\t\tz-index: 0;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tbottom: -150rpx;\r\n\t\t\t\tleft: -100rpx;\r\n\t\t\t\twidth: 300rpx;\r\n\t\t\t\theight: 300rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\tbackground: rgba(255, 255, 255, 0.08);\r\n\t\t\t\tz-index: 0;\r\n\t\t\t}\r\n\r\n\t\t\t/*头像*/\r\n\t\t\t.avatar {\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\twidth: 140rpx;\r\n\t\t\t\theight: 140rpx;\r\n\t\t\t\tborder-radius: 50%;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tborder: 4rpx solid rgba(255, 255, 255, 0.6);\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\tbox-shadow: 0 4rpx 10rpx rgba(0, 0, 0, 0.15);\r\n\t\t\t\t\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t.edit-icon {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\tright: 0;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tbackground-color: rgba(0, 0, 0, 0.4);\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* 微信头像选择按钮样式 */\r\n\t\t\t.avatar-button {\r\n\t\t\t\tpadding: 0;\r\n\t\t\t\twidth: 140rpx;\r\n\t\t\t\theight: 140rpx;\r\n\t\t\t\tmargin-right: 30rpx;\r\n\t\t\t\tbackground-color: transparent;\r\n\t\t\t\tborder: none;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\t\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tborder: none;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*未登录*/\r\n\t\t\t.login-btn {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: 500;\r\n\t\t\t\tbackground-color: rgba(255, 255, 255, 0.2);\r\n\t\t\t\tpadding: 16rpx 40rpx;\r\n\t\t\t\tborder-radius: 40rpx;\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\ttransition: all 0.3s;\r\n\t\t\t\t\r\n\t\t\t\t&:active {\r\n\t\t\t\t\tbackground-color: rgba(255, 255, 255, 0.3);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*已登录*/\r\n\t\t\t.userInfo {\r\n\t\t\t\tz-index: 1;\r\n\t\t\t\t\r\n\t\t\t\t.nickname {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t\tmax-width: 450rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t.nickname-text {\r\n\t\t\t\t\t\tmax-width: 340rpx;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t.nickname-input {\r\n\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\tfont-weight: 600;\r\n\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\tbackground-color: transparent;\r\n\t\t\t\t\t\tmax-width: 340rpx;\r\n\t\t\t\t\t\tmin-width: 140rpx;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t\t\tpadding-right: 10rpx;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t&::placeholder {\r\n\t\t\t\t\t\t\tcolor: rgba(255, 255, 255, 0.8);\r\n\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.mobile {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\topacity: 0.9;\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t/*内容*/\r\n\t\t.myContent {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 30rpx;\r\n\t\t\tmargin-top: -40rpx;\r\n\t\t\tborder-radius: 32rpx 32rpx 0 0;\r\n\t\t\tbackground-color: #f7f7f7;\r\n\t\t\tmin-height: calc(100vh - 320rpx + 40rpx);\r\n\t\t\tz-index: 2;\r\n\r\n\t\t\t.menu-list {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t.logout-section {\r\n\t\t\t\tbackground-color: #fff;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n\t\t\t\tmargin-bottom: 30rpx;\r\n\t\t\t\t\r\n\t\t\t\t.logout {\r\n\t\t\t\t\t.value {\r\n\t\t\t\t\t\tcolor: #ff6b6b;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*菜单项*/\r\n\t\t\t.menu-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 32rpx 30rpx;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\ttransition: all 0.3s;\r\n\t\t\t\t\r\n\t\t\t\t&:active {\r\n\t\t\t\t\tbackground-color: #f9f9f9;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t&:not(:last-child)::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 30rpx;\r\n\t\t\t\t\tright: 30rpx;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\theight: 1px;\r\n\t\t\t\t\tbackground-color: #f0f0f0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/*icon的公共样式*/\r\n\t\t\t.left {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t.value {\r\n\t\t\t\t\tmargin-left: 20rpx;\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/*版本信息*/\r\n\t\t\t.version-info {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tmargin-top: 60rpx;\r\n\t\t\t\tpadding: 20rpx 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import MiniProgramPage from 'D:/代码测试/wx2/pages/my/my.vue'\nwx.createPage(MiniProgramPage)"],"names":["useUserInfoStore","uniCloud","uni","computed","onMounted"],"mappings":"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"}